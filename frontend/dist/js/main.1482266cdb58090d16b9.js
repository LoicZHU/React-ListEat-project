(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),i=a(8),l=a(2),c=a(20),o=a(11),u=a(49),m=function(e,t){return{type:"CHANGE_TICKET_INPUT_VALUE",newValue:e,fieldName:t}},d=function(e){return{type:"UPDATE_CURRENT_TICKET",newValue:e}},p=function(e,t){return{type:"LOG_USER",isLogged:e,restaurantId:t}},E=function(e){return{type:"SHOW_PASSWORDRESET_EMAIL_CONFIRMATION",newValue:e}},f=function(e){return{type:"SHOW_PASSWORDRESET_EMAIL_ERROR",newValue:e}},h=function(e){return{type:"CONFIRM_NEW_PASSWORD",newValue:e}};function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){N(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function N(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _={ticketInscriptionInput:{lastName:"",firstName:"",email:"",phone:"",cutlery:"",showModalTicketValidation:!1,ticketEstimatedEntryTime:"",ticketId:null,errors:{modal:!1,email:!1}},ticketSubscriptionErrors:"",currentTicket:{id:0,coversNb:0,status:0,customer:{id:0,lastName:"",firstName:"",cellPhone:"",email:""},estimatedWaitingTime:0,estimatedEntryTime:"2020-04-16T21:20:18+02:00"},restaurantId:"",restaurantName:"",restaurantUrlId:"",restaurantServiceStatus:"",restaurantNameLoaded:!1,isTemporarySubscribedTicket:!1,ticketId:"",ticketCutlery:"",ticketWaitingTime:"",ticketStatus:"",isTicketValidate:"",ticketInfoToCancel:{restaurantName:"",ticketId:"",lastName:"",firstName:"",cutlery:"",estimatedEntryTime:"",estimatedWaitingTime:"",ticketInfoLoaded:!1,displayCancelConfirmation:!1,status:""}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CHANGE_TICKET_INPUT_VALUE":return v({},e,{ticketInscriptionInput:v({},e.ticketInscriptionInput,N({},t.fieldName,t.newValue))});case"SAVE_SUBSCRIBE_TICKET_ERRORS":return v({},e,{ticketSubscriptionErrors:t.errors});case"UPDATE_CURRENT_TICKET":return v({},e,{currentTicket:t.newValue});case"SAVE_SUBSCRIBE_TICKET_SUBSCRIPTION":return v({},e,{ticketId:t.ticketId,ticketCutlery:t.ticketCutlery,ticketWaitingTime:t.ticketWaitingTime,isTemporarySubscribedTicket:!0});case"SAVE_RESTAURANT_INFOS":return v({},e,{restaurantId:t.restaurantId,restaurantName:t.restaurantName,restaurantUrlId:t.restaurantUrlId,restaurantServiceStatus:t.restaurantServiceStatus,restaurantNameLoaded:!0});case"MODAL_TICKET_STORE_TEMP":return v({},e,{ticketInscriptionInput:v({},e.ticketInscriptionInput,{estimatedEntryTime:t.estimatedEntryTime,ticketId:t.ticketId})});case"SHOW_MODAL_TICKET_VALIDATION":return v({},e,{ticketInscriptionInput:v({},e.ticketInscriptionInput,{showModalTicketValidation:!0,errors:v({},e.ticketInscriptionInput.errors,{email:!1,modal:!1})})});case"SHOW_MODAL_TICKET_FORM":return v({},e,{ticketInscriptionInput:v({},e.ticketInscriptionInput,{showModalTicketValidation:!1})});case"CLEAR_MODAL_FORM":return v({},e,{ticketInscriptionInput:v({},e.ticketInscriptionInput,{lastName:"",firstName:"",email:"",phone:"",cutlery:"",estimatedEntryTime:"",ticketId:"",errors:v({},e.ticketInscriptionInput.errors,{modal:!1,email:!1})})});case"SHOW_MODAL_ERRORS":return v({},e,{ticketInscriptionInput:v({},e.ticketInscriptionInput,{errors:v({},e.ticketInscriptionInput.errors,{modal:!0,email:!1})})});case"SHOW_MODAL_EMAIL_ERROR":return v({},e,{ticketInscriptionInput:v({},e.ticketInscriptionInput,{errors:v({},e.ticketInscriptionInput.errors,{email:!0,modal:!1})})});case"SAVE_TICKET_STATUS":return v({},e,{ticketStatus:t.newValue,isTicketValidate:t.isValidate,ticketEstimatedEntryTime:t.estimatedEntryTime});case"SAVE_CHANGED_SERVICE_STATUS":return v({},e,{restaurantServiceStatus:t.newStatusService});case"SAVE_TICKET_INFO_TO_CANCEL":return v({},e,{ticketInfoToCancel:v({},e.ticketInfoToCancel,{restaurantName:t.restaurantName,ticketId:t.ticketId,lastName:t.lastName,firstName:t.firstName,cutlery:t.cutlery,estimatedEntryTime:t.estimatedEntryTime,estimatedWaitingTime:t.estimatedWaitingTime,status:t.status,ticketInfoLoaded:!0})});case"DISPLAY_CANCEL_CONFIRMATION":return v({},e,{ticketInfoToCancel:v({},e.ticketInfoToCancel,{displayCancelConfirmation:!0})});default:return e}};function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var k={email:"",password:"",isLogged:!1,loginErrorMessage:!1,checking:!0,restaurantId:null,signupInput:{lastname:"",firstname:"",email:"",password:"",passwordConfirmation:"",restaurantName:"",address:"",postcode:"",city:"",country:"",phone:"",cis:"",averageEatingTime:"",coversNumber:"",showPasswordError:!1,isPassConfirmed:!0,isPassTooShort:!1},signupErrors:[],signupConfirmation:!1,restaurantProfileEditInput:{restaurantName:"",address:"",postcode:"",city:"",country:"",phone:"",newPass:"",newPassConfirmation:"",actualPass:"",averageEatingTime:"",status:"",displayEditConfirmation:!1,displayEditError:!1,editErrorMessage:"",isNewPassConfirmed:!0},showElements:{mobileTimeEstimation:"none"},currentTime:(new Date).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),loadingTickets:!0,restaurantTicketsData:[],mobileMenuOpened:!1,passwordReset:{email:"",newPassword:"",inputCode:"",serverCode:"",userId:null,emailConfirmation:!1,emailError:!1,verificationCodeError:!1,newPasswordField:!1,newPasswordConfirmed:null},isRestaurantContentOpen:!0,isClientContentOpen:!1},y=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case"CHANGE_INPUT_VALUE":return T({},t,b({},a.fieldName,a.newValue));case"CHANGE_SIGNUP_INPUT_VALUE":return T({},t,{signupInput:T({},t.signupInput,b({},a.fieldName,a.newValue)),signupConfirmation:!1});case"CHANGE_RESTAURANT_PROFILE_INPUT_VALUE":return T({},t,{restaurantProfileEditInput:T({},t.restaurantProfileEditInput,(e={},b(e,a.fieldName,a.newValue),b(e,"displayEditConfirmation",!1),b(e,"displayEditError",!1),b(e,"editErrorMessage",""),b(e,"isNewPassConfirmed",!0),e))});case"LOG_USER":return T({},t,{isLogged:a.isLogged,checking:!1,restaurantId:a.restaurantId});case"CLEAR_LOGIN_PAGE":return T({},t,{email:"",password:"",loginErrorMessage:!1});case"LOG_OUT":return T({},t,{isLogged:!1});case"SHOW_LOGIN_ERROR":return T({},t,{loginErrorMessage:!0});case"CHANGE_CHECKING_RESTAURANT_LOGGED":return T({},t,{checking:!1});case"CHANGE_SHOW_PASSWORD_ERROR":return T({},t,{signupInput:T({},t.signupInput,{showPasswordError:a.newValue})});case"SAVE_RESTAURANT_DATA":return T({},t,{restaurantProfileEditInput:T({},t.restaurantProfileEditInput,{averageEatingTime:a.averageEatingTime,status:a.status,restaurantName:a.restaurantName,address:a.address,postcode:a.postcode,city:a.city,country:a.country,phone:a.phone})});case"SAVE_INCREASED_AVERAGE_TIME":return T({},t,{restaurantProfileEditInput:T({},t.restaurantProfileEditInput,{averageEatingTime:a.increasedAverageEatingTime})});case"SAVE_DECREASED_AVERAGE_TIME":return T({},t,{restaurantProfileEditInput:T({},t.restaurantProfileEditInput,{averageEatingTime:a.decreasedAverageEatingTime})});case"SAVE_SIGN_UP_ERRORS":return T({},t,{signupErrors:a.errors,signupConfirmation:!1});case"SAVE_CHANGED_SERVICE_STATUS":return T({},t,{restaurantProfileEditInput:T({},t.restaurantProfileEditInput,{status:a.newStatusService})});case"SAVE_TICKETS_DATA":return T({},t,{loadingTickets:!1,restaurantTicketsData:a.ticketsData});case"SHOW_SIGNUP_CONFIRMATION":return T({},t,{signupConfirmation:!0,signupErrors:[],signupInput:{lastname:"",firstname:"",email:"",password:"",passwordConfirmation:"",restaurantName:"",address:"",postcode:"",city:"",country:"",phone:"",cis:"",averageEatingTime:"",coversNumber:"",showPasswordError:!1,isPassConfirmed:!0}});case"REFRESH_TIME":return T({},t,{currentTime:(new Date).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})});case"MOBILE_MENU_OPENED":return T({},t,{mobileMenuOpened:!t.mobileMenuOpened});case"CLOSE_MOBILE_MENU":return T({},t,{mobileMenuOpened:!1});case"CHANGE_PASSWORDRESET_INPUT_VALUE":return T({},t,{passwordReset:T({},t.passwordReset,b({},a.fieldName,a.newValue))});case"SHOW_PASSWORDRESET_EMAIL_ERROR":return T({},t,{passwordReset:T({},t.passwordReset,{emailError:a.newValue})});case"SHOW_PASSWORDRESET_EMAIL_CONFIRMATION":return T({},t,{passwordReset:T({},t.passwordReset,{emailConfirmation:a.newValue})});case"STORE_SERVER_TEMP_CODE":return T({},t,{passwordReset:T({},t.passwordReset,{serverCode:a.newValue})});case"STORE_SERVER_TEMP_USERID":return T({},t,{passwordReset:T({},t.passwordReset,{userId:a.newValue})});case"STORE_SERVER_TEMP_CODE":return T({},t,{passwordReset:T({},t.passwordReset,{serverCode:a.newValue,customerId:a.userId})});case"SHOW_VERIFICATION_CODE_ERROR":return T({},t,{passwordReset:T({},t.passwordReset,{verificationCodeError:!0})});case"SHOW_NEW_PASSWORD_FIELD":return T({},t,{passwordReset:T({},t.passwordReset,{newPasswordField:!0})});case"CONFIRM_NEW_PASSWORD":return T({},t,{passwordReset:T({},t.passwordReset,{newPasswordConfirmed:a.newValue,inputCode:"",emailConfirmation:!1,newPasswordField:!1})});case"CLEAR_FORGOTTEN_PASSWORD_PAGE":return T({},t,{passwordReset:T({},t.passwordReset,{email:"",newPassword:"",emailError:!1,verificationCodeError:!1,newPasswordConfirmed:!1})});case"OPEN_RESTAURANT_CONTENT":return T({},t,{isRestaurantContentOpen:!0,isClientContentOpen:!1});case"OPEN_CLIENT_CONTENT":return T({},t,{isRestaurantContentOpen:!1,isClientContentOpen:!0});case"DISPLAY_EDIT_CONFIRMATION":return T({},t,{restaurantProfileEditInput:T({},t.restaurantProfileEditInput,{displayEditConfirmation:!0,displayEditError:!1,actualPass:""})});case"DISPLAY_EDIT_ERROR":return T({},t,{restaurantProfileEditInput:T({},t.restaurantProfileEditInput,{displayEditConfirmation:!1,displayEditError:!0,editErrorMessage:a.editErrorMessage,actualPass:""})});case"CHANGE_IS_NEW_PASS_CONFIRMED":return T({},t,{restaurantProfileEditInput:T({},t.restaurantProfileEditInput,{isNewPassConfirmed:a.newValue,newPass:"",newPassConfirmation:"",actualPass:"",displayEditConfirmation:!1,displayEditError:!1})});case"CLEAR_SHOWED_CONFIRMATION_OR_ERROR_MESSAGE":return T({},t,{restaurantProfileEditInput:T({},t.restaurantProfileEditInput,{displayEditConfirmation:!1,displayEditError:!1,isNewPassConfirmed:!0})});case"CLEAR_PASSWORD_INPUTS":return T({},t,{restaurantProfileEditInput:T({},t.restaurantProfileEditInput,{newPass:"",newPassConfirmation:"",actualPass:""})});case"CHANGE_IS_PASS_CONFIRMED":return T({},t,{signupInput:T({},t.signupInput,{isPassConfirmed:a.newValue})});case"MOBILE_CLOCK_CLICK":return T({},t,{showElements:T({},t.showElements,{mobileTimeEstimation:a.newValue})});case"CLEAR_ALL":return T({},t,{signupInput:T({},t.signupInput,{lastname:"",firstname:"",email:"",password:"",passwordConfirmation:"",restaurantName:"",address:"",postcode:"",city:"",country:"",phone:"",cis:"",averageEatingTime:"",coversNumber:"",showPasswordError:!1,isPassConfirmed:!0,isPassTooShort:!1}),signupErrors:[],signupConfirmation:!1});case"CHANGE_IS_PASS_TOO_SHORT":return T({},t,{signupInput:T({},t.signupInput,{isPassTooShort:a.newValue})});default:return t}},S=Object(o.combineReducers)({tickets:I,user:y}),w=a(4),R=a.n(w),O="http://localhost:8000",A=function(e){return function(t){return function(a){var n=e.getState().user.restaurantId,r=e.getState().tickets.currentTicket.id,s=e.getState().tickets.ticketInscriptionInput.ticketId;switch(a.type){case"GET_RESTAURANT_INFOS":var i=window.location.pathname.match(new RegExp("restaurant/(.*)/tickets"))[1];localStorage.setItem("restaurantUrlId",i),R()({method:"post",url:"".concat(O,"/api/decrypt"),headers:{"Content-Type":"application/json"},data:{restaurant:i}}).then((function(t){e.dispatch(function(e,t,a,n){return{type:"SAVE_RESTAURANT_INFOS",restaurantId:e,restaurantName:t,restaurantUrlId:a,restaurantServiceStatus:n}}(t.data.id,t.data.name,i,t.data.status))})).catch((function(e){})),t(a);break;case"SUBSCRIBE_TO_WAITING_LIST":R()({method:"post",url:"".concat(O,"/api/tickets"),headers:{"Content-Type":"application/json"},data:{lastName:e.getState().tickets.ticketInscriptionInput.lastName,firstName:e.getState().tickets.ticketInscriptionInput.firstName,cellPhone:e.getState().tickets.ticketInscriptionInput.phone,email:e.getState().tickets.ticketInscriptionInput.email,restaurant:e.getState().tickets.restaurantId,ticket:{coversNb:Number(e.getState().tickets.ticketInscriptionInput.cutlery)}},withCredentials:!0}).then((function(t){e.dispatch(function(e,t,a){return{type:"SAVE_SUBSCRIBE_TICKET_SUBSCRIPTION",ticketId:e,ticketCutlery:t,ticketWaitingTime:a}}(t.data.ticketId,e.getState().tickets.ticketInscriptionInput.cutlery,t.data.estimatedWaitingTime))})).catch((function(t){e.dispatch({type:"SAVE_SUBSCRIBE_TICKET_ERRORS",errors:t.response.data.message})})),t(a);break;case"SEND_TICKET_VALIDATION":var l=e.getState().tickets.ticketId;R()({method:"put",url:"".concat(O,"/api/tickets/").concat(l),headers:{"Content-Type":"application/json"},data:{validation:a.newValue},withCredentials:!0}).then((function(t){var a,n,r,s=1===t.data.ticketStatus;t.data.restaurantId;e.dispatch((a=t.data.ticketStatus,n=s,r=t.data.estimatedEntryTime,{type:"SAVE_TICKET_STATUS",newValue:a,isValidate:n,estimatedEntryTime:r}))})).catch((function(e){})),t(a);break;case"FETCH_TICKET_DATA_TO_CANCEL":var c=window.location.pathname.match(new RegExp("tickets/(.*)/customer"))[1];R()({method:"post",url:"".concat(O,"/api/decrypt/tickets"),headers:{"Content-Type":"application/json"},data:{ticket:c},withCredentials:!0}).then((function(t){e.dispatch(function(e,t,a,n,r,s,i,l){return{type:"SAVE_TICKET_INFO_TO_CANCEL",restaurantName:e,ticketId:t,lastName:a,firstName:n,cutlery:r,estimatedEntryTime:s,estimatedWaitingTime:i,status:l}}(t.data.restaurant.name,t.data.ticket.id,t.data.customer.lastName,t.data.customer.firstName,t.data.ticket.coversNb,t.data.ticket.estimatedEntryTime,t.data.ticket.estimatedWaitingTime,t.data.ticket.status))})).catch((function(e){})),t(a);break;case"CANCEL_TICKET":var o=e.getState().tickets.ticketInfoToCancel.ticketId;R()({method:"put",url:"".concat(O,"/api/tickets/").concat(o),headers:{"Content-Type":"application/json"},data:{validation:"cancel"},withCredentials:!0}).then((function(t){e.dispatch({type:"DISPLAY_CANCEL_CONFIRMATION"})})).catch((function(e){})),t(a);break;case"CANCEL_CURRENT_TICKET":R()({method:"put",url:"".concat(O,"/api/partner/").concat(n,"/tickets/").concat(r),headers:{"Content-Type":"application/json"},data:{status:"cancelled"}}).then((function(t){e.dispatch({type:"FETCH_TICKETS_DATA"})})).catch((function(e){})),t(a);break;case"CONFIRM_CURRENT_TICKET":R()({method:"put",url:"".concat(O,"/api/partner/").concat(n,"/tickets/").concat(r),headers:{"Content-Type":"application/json"},data:{status:"seated"}}).then((function(t){e.dispatch({type:"FETCH_TICKETS_DATA"})})).catch((function(e){})),t(a);break;case"MODAL_TICKET_VALIDATE":R()({method:"post",url:"".concat(O,"/api/tickets"),headers:{"Content-Type":"application/json"},data:{lastName:e.getState().tickets.ticketInscriptionInput.lastName,firstName:e.getState().tickets.ticketInscriptionInput.firstName,cellPhone:e.getState().tickets.ticketInscriptionInput.phone,email:e.getState().tickets.ticketInscriptionInput.email,restaurant:e.getState().user.restaurantId,ticket:{coversNb:Number(e.getState().tickets.ticketInscriptionInput.cutlery)}}}).then((function(t){var a=t.data.estimatedEntryTime;a=a.substring(a.indexOf("T")+1,a.indexOf("T")+6),e.dispatch(function(e,t){return{type:"MODAL_TICKET_STORE_TEMP",estimatedEntryTime:e,ticketId:t}}(a,t.data.ticketId))})).catch((function(e){})),t(a);break;case"MODAL_TICKET_ADD":R()({method:"put",url:"".concat(O,"/api/partner/").concat(n,"/tickets/").concat(s),headers:{"Content-Type":"application/json"},data:{status:"confirmed"}}).then((function(t){e.dispatch({type:"FETCH_TICKETS_DATA"}),e.dispatch({type:"CLEAR_MODAL_FORM"})})).catch((function(t){e.dispatch({type:"CLEAR_MODAL_FORM"})})),t(a);break;case"MODAL_TICKET_CANCEL":R()({method:"put",url:"".concat(O,"/api/partner/").concat(n,"/tickets/").concat(s),headers:{"Content-Type":"application/json"},data:{status:"cancelled"}}).then((function(t){e.dispatch({type:"FETCH_TICKETS_DATA"}),e.dispatch({type:"CLEAR_MODAL_FORM"})})).catch((function(e){})),t(a);break;default:t(a)}}}},P=function(e){return function(t){return function(a){var n=e.getState().user.restaurantId;switch(a.type){case"LOG_IN":R()({method:"post",url:"".concat("http://localhost:8000","/api/partner/login"),headers:{"Content-Type":"application/json"},data:{username:e.getState().user.email,password:e.getState().user.password},withCredentials:!0}).then((function(t){e.dispatch(p(t.data.logged,t.data.restaurantId))})).catch((function(t){e.dispatch({type:"SHOW_LOGIN_ERROR"})})),t(a);break;case"CHECK_LOGGED_RESTAURANT":R()({method:"post",url:"".concat("http://localhost:8000","/api/partner/islogged"),withCredentials:!0}).then((function(t){e.dispatch(p(t.data.logged,t.data.restaurantId))})).catch((function(t){e.dispatch({type:"CHANGE_CHECKING_RESTAURANT_LOGGED"})})),t(a);break;case"LOG_OUT":R()({method:"get",url:"".concat("http://localhost:8000","/logout"),withCredentials:!0}).then((function(t){e.dispatch(p(t.data.logged))})).catch((function(e){})),t(a);break;case"SIGN_UP":R()({method:"post",url:"".concat("http://localhost:8000","/api/partner"),headers:{"Content-Type":"application/json"},data:{email:e.getState().user.signupInput.email,password:e.getState().user.signupInput.password,lastName:e.getState().user.signupInput.lastname,firstName:e.getState().user.signupInput.firstname,restaurant:{siret_code:e.getState().user.signupInput.cis,name:e.getState().user.signupInput.restaurantName,address:e.getState().user.signupInput.address,postcode:Number(e.getState().user.signupInput.postcode),city:e.getState().user.signupInput.city,country:e.getState().user.signupInput.country,phone:e.getState().user.signupInput.phone,average_eating_time:Number(e.getState().user.signupInput.averageEatingTime),seat_nb:Number(e.getState().user.signupInput.coversNumber)}}}).then((function(t){e.dispatch({type:"SHOW_SIGNUP_CONFIRMATION"})})).catch((function(t){e.dispatch({type:"SAVE_SIGN_UP_ERRORS",errors:t.response.data}),location.hash="#signup-form"})),t(a);break;case"EDIT_RESTAURANT":R()({method:"put",url:"".concat("http://localhost:8000","/api/partner/").concat(n),headers:{"Content-Type":"application/json"},data:{restaurant:{name:e.getState().user.restaurantProfileEditInput.restaurantName,address:e.getState().user.restaurantProfileEditInput.address,postcode:Number(e.getState().user.restaurantProfileEditInput.postcode),city:e.getState().user.restaurantProfileEditInput.city,country:e.getState().user.restaurantProfileEditInput.country,phone:e.getState().user.restaurantProfileEditInput.phone},user:{password:e.getState().user.restaurantProfileEditInput.newPass},currentpassword:e.getState().user.restaurantProfileEditInput.actualPass,withCredentials:!0}}).then((function(t){e.dispatch({type:"DISPLAY_EDIT_CONFIRMATION"})})).catch((function(t){e.dispatch({type:"DISPLAY_EDIT_ERROR",editErrorMessage:t.response.data.message})})),t(a);break;case"FETCH_RESTAURANT_DATA":R()({method:"get",url:"".concat("http://localhost:8000","/api/partner/").concat(n)}).then((function(t){var a=t.data.averageEatingTime,n=Math.floor(a/60),r=a%60,s="".concat(0===n?"":n+"h").concat(1==r.toString().length?"0"+r:r).concat(0===n?"mn":"");e.dispatch(function(e,t,a,n,r,s,i,l){return{type:"SAVE_RESTAURANT_DATA",averageEatingTime:e,status:t,restaurantName:a,address:n,postcode:r,city:s,country:i,phone:l}}(s,t.data.status,t.data.name,t.data.address,t.data.postcode,t.data.city,t.data.country,t.data.phone))})).catch((function(e){})),t(a);break;case"INCREASE_MINUTE":R()({method:"put",url:"".concat("http://localhost:8000","/api/partner/").concat(n,"/eating-time"),headers:{"Content-Type":"application/json"},data:{addedTime:5},withCredentials:!0}).then((function(t){var a=t.data.averageEatingTime,n=Math.floor(a/60),r=a%60,s="".concat(0===n?"":n+"h").concat(1==r.toString().length?"0"+r:r).concat(0===n?"mn":"");e.dispatch({type:"SAVE_INCREASED_AVERAGE_TIME",increasedAverageEatingTime:s})})).catch((function(e){})),t(a);break;case"DECREASE_MINUTE":R()({method:"put",url:"".concat("http://localhost:8000","/api/partner/").concat(n,"/eating-time"),headers:{"Content-Type":"application/json"},data:{addedTime:-5},withCredentials:!0}).then((function(t){var a=t.data.averageEatingTime,n=Math.floor(a/60),r=a%60,s="".concat(0===n?"":n+"h").concat(1==r.toString().length?"0"+r:r).concat(0===n?"mn":"");e.dispatch({type:"SAVE_DECREASED_AVERAGE_TIME",decreasedAverageEatingTime:s})})).catch((function(e){})),t(a);break;case"CHANGE_SERVICE_STATUS":var r=e.getState().user.restaurantProfileEditInput.status;r=1===r?"off":"on",R()({method:"put",url:"".concat("http://localhost:8000","/api/partner/").concat(n,"/status"),data:{status:r},withCredentials:!0}).then((function(t){r="on"===r?1:0,e.dispatch({type:"SAVE_CHANGED_SERVICE_STATUS",newStatusService:r})})).catch((function(e){})),t(a);break;case"FETCH_TICKETS_DATA":R()({method:"get",url:"".concat("http://localhost:8000","/api/partner/").concat(n,"/tickets"),withCredentials:!0}).then((function(t){e.dispatch({type:"SAVE_TICKETS_DATA",ticketsData:t.data}),t.data.length>0&&e.dispatch(d(t.data[0]))})).catch((function(e){})),t(a);break;case"QRCODE_DOWNLOAD":R()({method:"post",url:"".concat("http://localhost:8000","/api/partner/").concat(n,"/qrcode"),withCredentials:!0,responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","QrCode.pdf"),document.body.appendChild(a),a.click()})).catch((function(e){})),t(a);break;case"PASSWORD_RESET_CHECK_EMAIL":R()({method:"post",url:"".concat("http://localhost:8000","/forgotten-password"),data:{username:e.getState().user.passwordReset.email}}).then((function(t){e.dispatch(E(!1)),e.dispatch(f(!1)),e.dispatch(E(!0)),e.dispatch({type:"STORE_SERVER_TEMP_CODE",newValue:t.data.securityCode}),e.dispatch(function(e){return{type:"STORE_SERVER_TEMP_USERID",newValue:e}}(t.data.userId))})).catch((function(t){e.dispatch(E(!1)),e.dispatch(f(!1)),e.dispatch(f(!0))})),t(a);break;case"SUBMIT_NEW_PASSWORD":R()({method:"post",url:"".concat("http://localhost:8000","/forgotten-password/confirmation"),data:{securityCode:e.getState().user.passwordReset.inputCode,userId:e.getState().user.passwordReset.userId,newPassword:e.getState().user.passwordReset.newPassword}}).then((function(t){e.dispatch(h(!0))})).catch((function(t){e.dispatch(h(!1))})),t(a);break;default:t(a)}}}},M=Object(u.composeWithDevTools)(Object(o.applyMiddleware)(A,P)),L=Object(o.createStore)(S,M),D=a(1),q=a.n(D),V=a(12),F=a(21),U=a.n(F),j=(a(97),a(50)),x=a.n(j),z=a.p+"images/591c3b36c4f8d07bf69f1497be3130ea.png",H=(a(98),function(e){var t=e.isRestaurantLogged,a=e.handleLogout,n=e.restaurantId,s=e.mobileMenuOpened,l=e.handleMobileMenuOpened,c=e.closeMobileMenu,o=function(){a()},u=function(){c()};return window.addEventListener("scroll",u),r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement("div",{id:"mobile-nav"},r.a.createElement("div",{className:"header"},r.a.createElement(x.a,{isOpen:s,menuClicked:l,width:25,height:15,strokeWidth:3,rotate:0,color:"black",borderRadius:0,animationDuration:.5}),r.a.createElement("div",{id:"logo-container"},r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:z})))),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"mobile-menu-overlay",onClick:u}),r.a.createElement("div",{id:"mobile-menu-container",onScroll:u},r.a.createElement("ul",null,r.a.createElement("a",{href:"/"},r.a.createElement("li",null,"Accueil",r.a.createElement("i",{className:"fa fa-home","aria-hidden":"true"}))),r.a.createElement("a",{href:"/faq"},r.a.createElement("li",{id:"help"},"Aide",r.a.createElement("i",{className:"fa fa-question-circle","aria-hidden":"true"}))),!t&&r.a.createElement("a",{href:"/signup"},r.a.createElement("li",null,"Inscription",r.a.createElement("i",{className:"fa fa-user-plus","aria-hidden":"true"}))),!t&&r.a.createElement("a",{href:"/login"},r.a.createElement("li",null,"Connexion",r.a.createElement("i",{className:"fa fa-sign-in","aria-hidden":"true"}))),t&&r.a.createElement("a",{href:"/partner/".concat(n,"/administration/")},r.a.createElement("li",null,"Mon espace",r.a.createElement("i",{className:"fa fa-ticket","aria-hidden":"true"}))),t&&r.a.createElement("a",{href:"/partner/".concat(n,"/administration/edit")},r.a.createElement("li",null,"Mon profil",r.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"}))),t&&r.a.createElement("a",{onClick:o},r.a.createElement("li",null,"Déconnexion",r.a.createElement("i",{className:"fa fa-sign-out","aria-hidden":"true"}))))))),r.a.createElement("div",{id:"divider"}),r.a.createElement("div",{id:"desktop-menu"},r.a.createElement("ul",{id:"desktop-left-nav"},r.a.createElement(i.c,{exact:!0,to:"/"},r.a.createElement("li",{id:"home-button",className:"header-nav-button button"},"Accueil")),r.a.createElement(i.c,{exact:!0,activeClassName:"menu-link",to:"/faq"},r.a.createElement("li",{id:"help-button",className:"header-nav-button button"},"Aide ",r.a.createElement("span",{id:"help-button-span"},"?")))),r.a.createElement(i.b,{to:"/"},r.a.createElement("div",{id:"logo-container"},r.a.createElement("img",{src:z}))),r.a.createElement("ul",{id:"desktop-right-nav"},!t&&r.a.createElement(i.c,{exact:!0,activeClassName:"menu-link",to:"/signup"},r.a.createElement("li",{className:"header-nav-button button"},"Inscription")),!t&&r.a.createElement(i.c,{exact:!0,activeClassName:"menu-link",to:"/login"},r.a.createElement("li",{className:"header-nav-button button"},"Connexion")),t&&r.a.createElement(i.c,{exact:!0,activeClassName:"menu-link",to:"/partner/".concat(n,"/administration/")},r.a.createElement("li",{id:"help-button",className:"header-nav-button button"},"Mon espace")),t&&r.a.createElement(i.c,{exact:!0,activeClassName:"menu-link",to:"/partner/".concat(n,"/administration/edit")},r.a.createElement("li",{id:"help-button",className:"header-nav-button button"},"Mon profil")),t&&r.a.createElement(i.c,{exact:!0,to:"",onClick:o},r.a.createElement("li",{className:"header-nav-button button"},"Déconnexion"))))))});H.propTypes={isRestaurantLogged:q.a.bool.isRequired,handleLogout:q.a.func.isRequired};var W=H,G=Object(l.b)((function(e){return{isRestaurantLogged:e.user.isLogged,restaurantId:e.user.restaurantId,mobileMenuOpened:e.user.mobileMenuOpened}}),(function(e){return{handleLogout:function(){e({type:"LOG_OUT"})},handleMobileMenuOpened:function(){e({type:"MOBILE_MENU_OPENED"})},closeMobileMenu:function(){e({type:"CLOSE_MOBILE_MENU"})}}}))(W),K=(a(15),a.p+"images/c0603530936c0504e67cb08f4a24a4a0.jpeg"),B=function(e){var t=e.logged;e.restaurantName;return r.a.createElement("section",{className:"home__top",style:{backgroundImage:"url(".concat(K,")")}},r.a.createElement("div",{id:"layer-opacity"},r.a.createElement("div",{className:"home__top__slogan"},r.a.createElement("h1",null,"L'attente n'aura jamais été aussi agréable."),r.a.createElement("p",{id:"desktop-slogan-description"},"Optimisez vos flux, gagnez du temps ! Pour en savoir plus, vous pouvez consulter notre ",r.a.createElement("a",{href:"/faq"},"rubrique Aide"),". "),r.a.createElement("button",{className:"button-alt mobile",type:"button"},r.a.createElement("a",{href:"/signup"},"Inscrivez-vous")))),r.a.createElement("div",{className:"home__top__partner"},!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"partner-title"},"Devenez restaurateur partenaire"),r.a.createElement("p",{className:"partner-argument"},"EN MOINS DE 5 MINUTES !"),r.a.createElement("a",{href:"/signup"},r.a.createElement("button",{className:"home__top__partner__subscribe-button button-alt",type:"button"},r.a.createElement("span",null,"Inscription"))),r.a.createElement("a",{className:"home__top__partner__link",href:"/faq"},"Une question ?",r.a.createElement("br",null),"Consultez notre rubrique d'aide")),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"partner-title"},"Cher partenaire,"),r.a.createElement("p",{className:"partner-argument"},"MERCI POUR VOTRE CONFIANCE !"),r.a.createElement("a",{className:"home__top__partner__link logged",href:"/faq"},"Une question ?",r.a.createElement("br",null),"Consultez notre rubrique d'aide"))))},Z=function(){return r.a.createElement("section",{className:"home__argument"},r.a.createElement("span",{id:"arguments-title"},"Votre métier, notre priorité."),r.a.createElement("div",{className:"content"},r.a.createElement("article",{className:"home__argument__article"},r.a.createElement("h2",null,"Fini le papier, gérez votre liste d’attente numériquement !"),r.a.createElement("p",null,"Vous tenez une liste d’attente papier ? Notre application vous permet de la ",r.a.createElement("span",null,"gérer en ligne de façon très simple")," : les clients scannent un QR code pour s’inscrire sur la liste d’attente de votre restaurant, que vous pourrez manipuler sur ",r.a.createElement("span",null,"tablette"),", ",r.a.createElement("span",null,"PC")," ou ",r.a.createElement("span",null,"smartphone"),".")),r.a.createElement("article",{className:"home__argument__article"},r.a.createElement("h2",null,"Réduisez le nombre de “no-shows” !"),r.a.createElement("p",null,"Victime de clients indélicats ne prenant pas la peine d’annuler leurs réservations ? Notre application est faite pour vous ! Les clients s’inscrivant sur votre liste d’attente via le scan de votre QR code apposé sur votre vitrine, vous ",r.a.createElement("span",null,"pouvez être sûrs qu’ils sont à proximité et qu’ils reviendront")," lorsque leur tour arrivera.")),r.a.createElement("article",{className:"home__argument__article"},r.a.createElement("h2",null,"Stop aux files interminables devant vos restaurants !"),r.a.createElement("p",null,"Victime de votre succès, vous ne prenez plus de réservations et la file devant votre restaurant semble interminable ? Grâce à la gestion numérique de votre liste d’attente, ",r.a.createElement("span",null,"vos clients ne sont plus obligés d’attendre devant votre restaurant"),", gênant souvent les passants, décourageant parfois d’autres clients potentiels. Par ailleurs, vos clients peuvent mettre à profit le temps d’attente."))))},Q=a.p+"images/6a519c7f216dfa1b1cdd7613bc15d0ce.jpeg",Y=function(){return r.a.createElement("section",{className:"home__info"},r.a.createElement(c.Parallax,{className:"desktop-parallax",y:[-30,30],tagOuter:"figure"},r.a.createElement("img",{src:Q})),r.a.createElement("img",{className:"mobile-parallax",src:Q}),r.a.createElement("div",{className:"home__info__content"},r.a.createElement("div",{className:"home__info__content__detail"},r.a.createElement("h2",null,"Simplement efficace."),r.a.createElement("p",null,"Collez votre QR code sur la vitrine de votre restaurant. Vos clients le scannent, saisissent quelques renseignements, obtiennent une estimation de leur temps d’attente et sont automatiquement inscrits sur la liste d’attente. Il ne manque plus qu’à les placer lorsqu’une table se libère !")),r.a.createElement("div",{className:"home__info__content__detail"},r.a.createElement("h2",null,"Comment ça marche ?"),r.a.createElement("ol",null,r.a.createElement("li",null,"Créez votre compte partenaire en quelques minutes."),r.a.createElement("li",null,"Téléchargez votre QR code. Imprimez-le et collez-le sur votre vitrine."),r.a.createElement("li",null,"Vos clients scannent le QR code, renseignent quelques informations dont le nombre de couverts souhaités et obtiennent un ticket avec une estimation du temps d’attente. Ils recevront une notification automatique à l’approche de leur horaire de passage estimé."),r.a.createElement("li",null,"Vous gérez vos tickets via votre espace partenaire, soit en plaçant les clients lorsqu’une table se libère, soit en annulant leur venue.")),r.a.createElement("p",{className:"argument"},"Pratique, pour vous et vos clients !"))))},J=a.p+"images/dd644662fcacadc283d3d216c3de7f4b.png",X=a.p+"images/ad5edaf8a15bd4f926f756c2a1d27949.png",$=a.p+"images/5653bc280f489328fbb0f3190bb3a529.png",ee=a.p+"images/f044870d5a8ac389d45a90f667d84ac9.png",te=a.p+"images/b468974e1ceac5d8cad25989872b3088.png",ae=a.p+"images/d4b503ec67409f007d4257fa25d8bcf0.png",ne=function(){return r.a.createElement("section",{className:"home__trust"},r.a.createElement("div",{className:"home__trust__statement"},r.a.createElement("h2",null,"Témoignages"),r.a.createElement("span",{className:"statement"},r.a.createElement("p",null,"Grâce à ListEat, je gère facilement ma liste d’attente sur ma tablette, l’application est intuitive, fini le papier, les ratures !"),r.a.createElement("span",{className:"author"},"Julie,"),r.a.createElement("span",{className:"company"},"propriétaire du restaurant Chez Julie (75)")),r.a.createElement("span",{className:"statement"},r.a.createElement("p",null,"J’utilise ListEat depuis maintenant 6 mois dans notre établissement très fréquenté et je peux constater que cela a considérablement diminué le nombre de no-shows !"),r.a.createElement("span",{className:"author"},"Pierre,"),r.a.createElement("span",{className:"company"},"manager du restaurant Chez Baba (33)")),r.a.createElement("span",{className:"statement"},r.a.createElement("p",null,"Le QR code c’est la vie !"),r.a.createElement("span",{className:"author"},"Christophe,"),r.a.createElement("span",{className:"company"},"client (59)"))),r.a.createElement("div",{className:"home__trust__partner"},r.a.createElement("h2",null,"Ils nous font confiance"),r.a.createElement("p",null,"Plus de 10 000 restaurants nous font confiance, pourquoi pas vous ?"),r.a.createElement("div",{className:"clients-logo-list"},r.a.createElement("img",{src:J}),r.a.createElement("img",{src:X}),r.a.createElement("img",{src:$}),r.a.createElement("img",{src:ee}),r.a.createElement("img",{src:te}),r.a.createElement("img",{src:ae}))))},re=function(e){var t=e.isRestaurantLogged;return r.a.createElement("main",{className:"home"},r.a.createElement(B,{logged:t}),r.a.createElement(Z,null),r.a.createElement(Y,null),r.a.createElement(ne,null))},se=Object(l.b)((function(e){return{isRestaurantLogged:e.user.isLogged}}),(function(e){return{}}))(re),ie=(a(44),function(){return r.a.createElement("div",{id:"login-error"},"Identifiants incorrects, merci de réessayer.")}),le=function(e){var t=e.email,a=e.password,s=e.changeInputValue,i=e.handleLogin,l=e.errorMessage,c=e.clearLoginPage;Object(n.useEffect)((function(){c()}),[]);var o=function(e){s(e.target.value,e.target.name)};return r.a.createElement("form",{id:"login-form",onSubmit:function(e){e.preventDefault(),i()}},l&&r.a.createElement(ie,null),r.a.createElement("input",{id:"user-input",name:"email",type:"email",placeholder:"Adresse email",value:t,onChange:o,required:!0}),r.a.createElement("input",{id:"password-input",name:"password",type:"password",placeholder:"Mot de passe",value:a,onChange:o,required:!0}),r.a.createElement("button",{className:"button-alt",type:"submit"},"Connexion"),r.a.createElement("span",{className:"bottom-links"},r.a.createElement("a",{href:"/forgotten-password"},"Identifiant ou mot de passe oublié ?")),r.a.createElement("span",{className:"bottom-links"},r.a.createElement("a",{href:"/signup"},"Vous n'avez pas de compte ? Créez-en un en 5 minutes !")))};le.propTypes={email:q.a.string.isRequired,password:q.a.string.isRequired,changeInputValue:q.a.func.isRequired,handleLogin:q.a.func.isRequired};var ce=le,oe=Object(l.b)((function(e){return{email:e.user.email,password:e.user.password,errorMessage:e.user.loginErrorMessage}}),(function(e){return{changeInputValue:function(t,a){e(function(e,t){return{type:"CHANGE_INPUT_VALUE",newValue:e,fieldName:t}}(t,a))},handleLogin:function(){e({type:"LOG_IN"})},showLoginError:function(){e({type:"SHOW_LOGIN_ERROR"})},clearLoginPage:function(){e({type:"CLEAR_LOGIN_PAGE"})}}}))(ce),ue=(a(100),function(){return r.a.createElement("div",{className:"page-container"},r.a.createElement("div",{className:"login-container"},r.a.createElement("h1",null,"Identifiez-vous"),r.a.createElement(oe,null)))}),me=(a(101),function(){return r.a.createElement("footer",null,r.a.createElement("div",{id:"footer-first"},r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/legal"},"Mentions légales")),r.a.createElement("li",null,r.a.createElement("a",{href:"/data-protection"},"Politique de protection des données")))),r.a.createElement("div",{id:"contact-block"},r.a.createElement("div",{className:"contact-infos"},r.a.createElement("span",{className:"title"},"Pour nous contacter :"),r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-envelope-o","aria-hidden":"true"})," Par mail : ",r.a.createElement("a",{href:"mailto:hello@listeat.io"},"hello@listeat.io"))))),r.a.createElement("div",{id:"footer-last"},r.a.createElement("span",null,"Copyright ListEat 2020"),r.a.createElement("span",null,"Made with ",r.a.createElement("i",{class:"fa fa-heart","aria-hidden":"true"})," by ",r.a.createElement("a",{href:"/team"},"our team"))))}),de=(a(102),a(103),function(e){var t=e.name,a=e.type,n=e.placeholder,s=e.value,i=e.onChange;return r.a.createElement("div",null,r.a.createElement("input",{id:t,type:a,className:"ticket__form__field",placeholder:n,name:t,value:s,onChange:function(e){i(e.target.value,t)},min:"1",required:!0}))}),pe=function(e){var t=e.lastName,a=e.firstName,s=e.email,i=e.phone,l=e.cutlery,c=e.changeTicketInputValue,o=e.handleTicketSubscribe,u=e.errors,m=e.getRestaurantInfos,d=e.restaurantName,p=e.restaurantNameLoaded,E=e.restaurantServiceStatus,f=e.ticketSubscriptionErrors;Object(n.useEffect)((function(){m()}),[]),window.scrollTo(0,0);return u&&u.field,r.a.createElement("main",{className:"ticket-form--container"},p&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,d),r.a.createElement("h2",null,"Inscription sur la liste d'attente"),0===E&&r.a.createElement("p",{className:"service-off"},"Le restaurant est fermé ou ne peut plus accepter de nouveaux clients."),1===E&&r.a.createElement("form",{className:"ticket-form",onSubmit:function(e){e.preventDefault(),1===E&&o()}},r.a.createElement(de,{name:"lastName",placeholder:"Nom",onChange:c,value:t}),r.a.createElement(de,{name:"firstName",placeholder:"Prénom",onChange:c,value:a}),r.a.createElement(de,{name:"email",type:"email",placeholder:"Adresse Email",onChange:c,value:s}),r.a.createElement(de,{name:"phone",placeholder:"Téléphone",onChange:c,value:i}),r.a.createElement(de,{name:"cutlery",type:"number",placeholder:"Nombre de couverts",onChange:c,value:l}),u&&"coversNb"==u.field&&r.a.createElement("span",{className:"cover-error"},u.message),r.a.createElement("button",{className:"ticket-submit button-alt",type:"submit"},"Inscription"),""!==f&&r.a.createElement("div",{className:"warning"},f))))},Ee=Object(l.b)((function(e){return{lastName:e.tickets.ticketInscriptionInput.lastName,firstName:e.tickets.ticketInscriptionInput.firstName,email:e.tickets.ticketInscriptionInput.email,phone:e.tickets.ticketInscriptionInput.phone,cutlery:e.tickets.ticketInscriptionInput.cutlery,ticketSubscriptionErrors:e.tickets.ticketSubscriptionErrors,restaurantName:e.tickets.restaurantName,restaurantNameLoaded:e.tickets.restaurantNameLoaded,restaurantServiceStatus:e.tickets.restaurantServiceStatus}}),(function(e){return{changeTicketInputValue:function(t,a){e(m(t,a))},handleTicketSubscribe:function(){e({type:"SUBSCRIBE_TO_WAITING_LIST"})},getRestaurantInfos:function(){e({type:"GET_RESTAURANT_INFOS"})}}}))(pe),fe=(a(13),function(){return r.a.createElement("div",{id:"password-forgotten-confirmation-message"},"Votre mot de passe a bien été modifié. Vous pouvez vous connecter en",r.a.createElement("a",{href:"/login",alt:"Se connecter"}," cliquant ici."))}),he=function(){return r.a.createElement("div",{id:"password-forgotten-error-message"},"Cette adresse email n'est pas enregistrée, merci de réessayer.")},ge=function(){return r.a.createElement("div",{id:"password-forgotten-error-message"},"Code incorrect, merci de réessayer.")},ve=function(e){var t=e.changePasswordResetInputValue,a=e.handleSendEmail,s=e.email,i=e.emailError,l=e.emailConfirmation,c=e.inputCode,o=e.serverCode,u=e.showNewPasswordField,m=e.showVerificationCodeError,d=e.newPasswordField,p=e.verificationCodeError,E=e.newPassword,f=e.newPasswordSubmit,h=e.newPasswordConfirmed,g=e.clearForgottenPasswordPage;Object(n.useEffect)((function(){g()}),[]);var v=function(e){t(e.target.value,e.target.name)};return r.a.createElement("div",{className:"form-container"},r.a.createElement("h1",null,"Réinitialisez votre mot de passe"),!l&&!h&&r.a.createElement("form",{id:"password-reset-form",onSubmit:function(e){e.preventDefault(),a()}},r.a.createElement("p",null,"Merci d'indiquer l'adresse mail rattachée à votre compte."),r.a.createElement("input",{onChange:v,value:s,id:"user-input",name:"email",placeholder:"Adresse email",type:"email",required:!0}),i&&r.a.createElement(he,null),r.a.createElement("button",{className:"button-alt",type:"submit"},"Envoyer")),l&&!d&&r.a.createElement("form",{id:"password-reset-form",onSubmit:function(e){e.preventDefault(),o==c?u():m()}},r.a.createElement("p",null,"Merci d'indiquer le code de vérification envoyé par email."),r.a.createElement("input",{placeholder:"Code de confirmation",name:"inputCode",onChange:v,value:c,required:!0}),p&&r.a.createElement(ge,null),r.a.createElement("button",{className:"button-alt",type:"submit"},"Envoyer")),l&&d&&!h&&r.a.createElement("form",{id:"password-reset-form",onSubmit:function(e){e.preventDefault(),f()}},r.a.createElement("p",null,"Merci d'indiquer votre nouveau mot de passe."),r.a.createElement("input",{placeholder:"Nouveau mot de passe",minLength:"6",type:"password",name:"newPassword",onChange:v,value:E,required:!0}),r.a.createElement("button",{className:"button-alt",type:"submit"},"Envoyer")),h&&r.a.createElement(fe,null))},Ne=Object(l.b)((function(e){return{email:e.user.passwordReset.email,emailConfirmation:e.user.passwordReset.emailConfirmation,emailError:e.user.passwordReset.emailError,inputCode:e.user.passwordReset.inputCode,serverCode:e.user.passwordReset.serverCode,verificationCodeError:e.user.passwordReset.verificationCodeError,newPasswordField:e.user.passwordReset.newPasswordField,newPassword:e.user.passwordReset.newPassword,newPasswordConfirmed:e.user.passwordReset.newPasswordConfirmed}}),(function(e){return{changePasswordResetInputValue:function(t,a){e(function(e,t){return{type:"CHANGE_PASSWORDRESET_INPUT_VALUE",newValue:e,fieldName:t}}(t,a))},handleSendEmail:function(){e({type:"PASSWORD_RESET_CHECK_EMAIL"})},showVerificationCodeError:function(){e({type:"SHOW_VERIFICATION_CODE_ERROR"})},showNewPasswordField:function(){e({type:"SHOW_NEW_PASSWORD_FIELD"})},newPasswordSubmit:function(){e({type:"SUBMIT_NEW_PASSWORD"})},clearForgottenPasswordPage:function(){e({type:"CLEAR_FORGOTTEN_PASSWORD_PAGE"})}}}))(ve),_e=(a(104),function(e){var t=e.restaurantName,a=e.ticketCutlery,n=e.ticketWaitingTime,s=e.sendTicketValidation;return window.scrollTo(0,0),r.a.createElement("main",{className:"ticket__validation"},r.a.createElement("h1",null,t),r.a.createElement("div",{className:"ticket__validation__infos"},r.a.createElement("p",null,1==a?"Nombre de couvert souhaité :":"Nombre de couverts souhaités :",r.a.createElement("span",{className:"ticket__validation__info"}," ",a)),r.a.createElement("p",null,"Temps d'attente estimé :",r.a.createElement("span",{className:"ticket__validation__info"}," ",n," ",n>1?"minutes":"minute"))),r.a.createElement("div",{className:"ticket__validation__question"},r.a.createElement("p",null,"Souhaitez-vous vous inscrire sur la liste d'attente ?"),r.a.createElement("div",{id:"choice"},r.a.createElement("button",{className:"yes__button button",type:"button",onClick:function(){s("validate")}},"Oui"),r.a.createElement("button",{className:"no__button button",type:"button",onClick:function(){s("cancel")}},"Non"))))}),Ie=Object(l.b)((function(e){return{restaurantName:e.tickets.restaurantName,ticketCutlery:e.tickets.ticketCutlery,ticketWaitingTime:e.tickets.ticketWaitingTime}}),(function(e){return{sendTicketValidation:function(t){e(function(e){return{type:"SEND_TICKET_VALIDATION",newValue:e}}(t))}}}))(_e),Ce=(a(105),function(e){var t=e.ticketId,a=e.ticketCutlery,n=e.ticketEstimatedEntryTime;return window.scrollTo(0,0),r.a.createElement("main",{className:"ticket__confirmation"},r.a.createElement("h1",null,"Félicitations, "),r.a.createElement("h2",null,"vous êtes sur la liste d'attente !"),r.a.createElement("div",{className:"ticket__confirmation__message"},r.a.createElement("p",null,"Un email vous a été envoyé avec les informations de votre ticket, vous pouvez donc fermer cette page."),r.a.createElement("p",null,"Merci d'être présent à l'heure estimée et au complet.")),r.a.createElement("div",{className:"ticket__confirmation__infos"},r.a.createElement("p",null,"Numéro de ticket : ",r.a.createElement("span",{className:"ticket__confirmation__info"},t)),r.a.createElement("p",null,"Nombre de couverts : ",r.a.createElement("span",{className:"ticket__confirmation__info"},a)),r.a.createElement("p",null,"Heure d'entrée estimée :",r.a.createElement("span",{className:"ticket__confirmation__info"}," ",n?n.substring(n.indexOf("T")+1,n.indexOf("T")+6):""))))}),Te=Object(l.b)((function(e){return{ticketId:e.tickets.ticketId,ticketCutlery:e.tickets.ticketCutlery,ticketEstimatedEntryTime:e.tickets.ticketEstimatedEntryTime}}),(function(){return{}}))(Ce),be=(a(106),function(e){e.restaurantUrlId;return window.scrollTo(0,0),r.a.createElement("main",{className:"ticket__cancellation"},r.a.createElement("h1",null,"Dommage !"),r.a.createElement("p",null,"Vous avez annulé votre demande."),r.a.createElement("a",{className:"ticket__cancellation__link",href:"/restaurant/".concat(localStorage.getItem("restaurantUrlId"),"/tickets/add")},"Revenir à l'inscription à la liste d'attente"))}),ke=Object(l.b)((function(e){return{restaurantUrlId:e.tickets.restaurantUrlId}}),(function(){return{}}))(be),ye=a(22),Se=a.n(ye),we=(a(116),function(e){var t=e.ticket,a=e.updateCurrentTicket,n=t.coversNb,s=t.customer;return r.a.createElement("li",{className:"ticket",id:t.id,onClick:function(e){return function(e){a(t),document.querySelectorAll(".current").forEach((function(e){e.classList.remove("current")})),e.target.classList.toggle("current")}(e)}},s.firstName,r.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"},r.a.createElement("span",null,n)))}),Re=Object(l.b)((function(e){return{}}),(function(e){return{updateCurrentTicket:function(t){e(d(t))}}}))(we);a(117);function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,s=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw s}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ae=function(e){var t=e.status,a=e.averageEatingTime,s=e.handleDecreaseMinute,i=e.handleIncreaseMinute,l=e.handleChangeServiceStatus,c=e.loadingTicketsData,o=e.tickets,u=e.currentTime,m=e.refreshTime,d=e.currentTicket,p=e.cancelCurrentTicket,E=e.confirmCurrentTicket,f=e.handleModalTicketValidate,h=e.handleModalTicketCancel,g=e.showModalTicketValidation,v=e.handleShowModalTicketForm,N=e.handleShowModalTicketValidation,_=e.showModalErrors,I=e.showModalEmailError,C=e.fetchTicketsData,T=e.restaurantId,b=e.handleMobileClockClick,k=e.lastName,y=e.firstName,S=e.email,w=e.phone,R=e.cutlery,O=e.errors,A=e.changeTicketInputValue,P=e.handleTicketSubscribe,M=e.estimatedEntryTime,L=e.modalErrors,D=e.emailError,q=e.mobileClockClickState,V=e.handleClearModalForm;Object(n.useEffect)((function(){setInterval((function(){m()}),1e4)}),[]),Object(n.useEffect)((function(){null==document.querySelector("#admin-mobile-wrapper #ticket-list li.current")&&o.length>0&&document.querySelector("#admin-mobile-wrapper #ticket-list > li").classList.add("current")}),[o]),Object(n.useEffect)((function(){null==document.querySelector("#admin-desktop-wrapper #ticket-list li.current")&&o.length>0&&document.querySelector("#admin-desktop-wrapper #ticket-list > li").classList.add("current")}),[o]);var U=function(){s()},j=function(){i()},x=function(){l()},z=function(e){e.preventDefault(),$(!1),F.store.addNotification({title:"Nouveau ticket",message:"Votre ticket a bien été ajouté !",type:"success",insert:"top",container:"top-center",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:4e3,onScreen:!0}}),P()},H=function(){var e=d.id;E(e)},W=function(){var e=d.id;p(e)},G=function(){f(),Z()},K=function(){$(!1),h(),v(),V()},B=function(){v(),V()},Z=function(){!y.length>0||!k.length>0||0===R.length||"0"==R?_():S.length>0&&!S.includes("@")||S.length>0&&!S.includes(".")?I():N()};Se.a.setAppElement("#root");var Q,Y={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},J=Oe(r.a.useState(!1),2),X=J[0],$=J[1],ee=function(){$(!0)},te=function(){Q.style.color="#ff8400"},ae=function(){b("flex"===q?"none":"flex")},ne=new URL("http://localhost:3000/.well-known/mercure");ne.searchParams.append("topic","http://localhost:8080/".concat("ticket","/").concat(T)),new EventSource(ne).onmessage=function(e){C()};var re=new URL("http://localhost:3000/.well-known/mercure");return re.searchParams.append("topic","http://localhost:8080/".concat("ticket-delete","/").concat(T)),new EventSource(re).onmessage=function(e){C()},!c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"admin-mobile-wrapper"},r.a.createElement("div",{id:"left-section"},r.a.createElement("div",{id:"admin-top-section"},r.a.createElement("div",{className:"left"},r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",checked:t,onChange:x}),r.a.createElement("span",{className:"slider round"})),r.a.createElement("span",{className:"toggle-name"},"SERVICE : "),1===t&&r.a.createElement("span",{className:"toggle-state on"},"ON"),!(1===t)&&r.a.createElement("span",{className:"toggle-state off"},"OFF")),r.a.createElement("div",{className:"right"},r.a.createElement("span",null,u))),r.a.createElement("div",{id:"admin-middle-section"},0===o.length&&r.a.createElement("div",{id:"empty-ticket-overlay"},r.a.createElement("span",null,"Pas de ticket en cours")),r.a.createElement("div",{className:"left"},r.a.createElement("div",{id:"ticket-infos"},r.a.createElement("span",null,"Nom : ",o.length>0?d.customer.lastName:""," "),r.a.createElement("span",null,"Prénom : ",o.length>0?d.customer.firstName:""),r.a.createElement("span",null,"Horaire estimé :  ",o.length>0?d.estimatedEntryTime.substring(d.estimatedEntryTime.indexOf("T")+1,d.estimatedEntryTime.indexOf("T")+6):""),r.a.createElement("div",{id:"ticket-ref"},r.a.createElement("span",null,"Ref ticket : "),r.a.createElement("span",{className:"ref"}," ",o.length>0?d.id:"")))),r.a.createElement("div",{className:"right"},r.a.createElement("div",{id:"covers-nb"},r.a.createElement("span",{className:"covers-title"},"Nombre de couverts :"),r.a.createElement("span",{className:"covers"},o.length>0?d.coversNb:"",r.a.createElement("i",{className:"fa fa-cutlery","aria-hidden":"true"})),o.length>0&&r.a.createElement("div",{className:"add-ticket"},r.a.createElement("span",{id:"confirm",onClick:H},"Placé"),r.a.createElement("span",{id:"cancel",onClick:W},"Absent"))))),r.a.createElement("div",{id:"admin-bottom-section",style:"none"==q?{display:"none"}:{display:"flex"}},r.a.createElement("div",{className:"first"},r.a.createElement("h3",null,"Temps de repas moyen :"),r.a.createElement("div",{className:"estimate-waiting-time"},1===t&&r.a.createElement("span",{id:"less-time",onClick:U}),r.a.createElement("div",{id:"time-container"},r.a.createElement("span",{id:"time"},a)),1===t&&r.a.createElement("span",{id:"more-time",onClick:j}))),r.a.createElement("div",{className:"second"},r.a.createElement("h3",null,"Total en attente : "),r.a.createElement("span",{id:"tickets-count"},o.length,o.length<2?" ticket":" tickets")))),r.a.createElement("div",{id:"right-section"},r.a.createElement("div",{id:"admin-side-section"},r.a.createElement("ul",{id:"ticket-list"},0===o.length&&r.a.createElement("div",{id:"empty-list-add-ticket"},0===t&&r.a.createElement("span",{id:"service-off"},"Pour ajouter un ticket, lancez le service."),1===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Pour ajouter un ticket, c'est ici"),r.a.createElement("img",{src:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.proctorgallagherinstitute.com%2Fwp-content%2Fuploads%2F2019%2F03%2Forange-curved-arrow.png&f=1&nofb=1"}))),o.map((function(e){return r.a.createElement(Re,{key:e.id,ticket:e})}))),r.a.createElement("div",{className:"tickets-count"},0===t&&r.a.createElement("span",{id:"service-off"},"Service à l'arrêt"),r.a.createElement("span",{id:"mobile-time-button",onClick:ae},r.a.createElement("i",{className:"fa fa-clock-o","aria-hidden":"true"})),1===t&&r.a.createElement("span",{id:"add-ticket",onClick:ee},"Ajouter un ticket"),r.a.createElement(Se.a,{isOpen:X,onAfterOpen:te,onRequestClose:K,onAfterClose:B,style:Y,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,contentLabel:"Ticket adding modal"},r.a.createElement("div",{className:"modal-title"},g&&r.a.createElement("div",{className:"previous-button",onClick:v}),!g&&r.a.createElement("div",{className:"close-button",onClick:K},"Fermer "," ")),r.a.createElement("div",{className:"ticket-form--container"},!g&&r.a.createElement("h2",{ref:function(e){return Q=e}},"Ajout de ticket"),r.a.createElement("form",{className:"ticket-form",onSubmit:z},!g&&r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{name:"lastName",placeholder:"Nom",onChange:A,value:k}),r.a.createElement(de,{name:"firstName",placeholder:"Prénom",onChange:A,value:y}),r.a.createElement(de,{name:"email",type:"email",placeholder:"Adresse Email",onChange:A,value:S}),r.a.createElement(de,{name:"phone",placeholder:"Téléphone",onChange:A,value:w}),r.a.createElement(de,{name:"cutlery",type:"number",placeholder:"Nombre de couverts",onChange:A,value:R,step:"5",min:"0"}),L&&r.a.createElement("div",{id:"errors"},r.a.createElement("span",null," Merci de compléter les champs ",r.a.createElement("strong",null,"Nom"),", ",r.a.createElement("strong",null,"Prénom")," et ",r.a.createElement("strong",null,"Nombre de couverts"),".")),D&&r.a.createElement("div",{id:"errors"},r.a.createElement("span",null," Merci de vérifier l'adresse mail.")),O&&"coversNb"==O.field&&r.a.createElement("span",{className:"cover-error"},O.message)),g&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{ref:function(e){return Q=e}},"Récapitulatif"),r.a.createElement("h3",null,"Prénom"),r.a.createElement("span",null,k),r.a.createElement("h3",null,"Nom"),r.a.createElement("span",null,y),S.length>1&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Email"),r.a.createElement("span",null,S)),w.length>1&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Téléphone"),r.a.createElement("span",null,w)),r.a.createElement("h3",null,"Nombre de couverts"),r.a.createElement("span",null,R),r.a.createElement("h3",null,"Heure estimée"),r.a.createElement("span",{id:"estimated-entry"},M),r.a.createElement("div",{className:"bottom"},r.a.createElement("div",{className:"cancel-button",onClick:K},"Annuler"),r.a.createElement("button",{className:"ticket-submit button-alt",type:"submit"},"Valider"))),!g&&r.a.createElement("div",{className:"bottom"},r.a.createElement("a",{className:"ticket-next button-alt",onClick:G},"Suivant"))))))))),r.a.createElement("div",{id:"admin-desktop-wrapper"},r.a.createElement("div",{id:"left-section"},r.a.createElement("div",{id:"admin-top-section"},r.a.createElement("div",{className:"left"},r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",checked:t,onChange:x}),r.a.createElement("span",{className:"slider round"})),r.a.createElement("span",{className:"toggle-name"},"SERVICE : "),1===t&&r.a.createElement("span",{className:"toggle-state on"},"ON"),!(1===t)&&r.a.createElement("span",{className:"toggle-state off"},"OFF")),r.a.createElement("div",{className:"right"},r.a.createElement("span",null,u))),r.a.createElement("div",{id:"admin-middle-section"},0===o.length&&r.a.createElement("div",{id:"empty-ticket-overlay"},r.a.createElement("span",null,"Pas de ticket en cours")),r.a.createElement("div",{className:"left"},r.a.createElement("div",{id:"ticket-infos"},r.a.createElement("span",null,"Nom : ",o.length>0?d.customer.lastName:""," "),r.a.createElement("span",null,"Prénom : ",o.length>0?d.customer.firstName:""),r.a.createElement("span",null,"Horaire estimé :  ",o.length>0?d.estimatedEntryTime.substring(d.estimatedEntryTime.indexOf("T")+1,d.estimatedEntryTime.indexOf("T")+6):""),r.a.createElement("div",{id:"ticket-ref"},r.a.createElement("span",null,"Ref ticket : "),r.a.createElement("span",{className:"ref"}," ",o.length>0?d.id:"")))),r.a.createElement("div",{className:"right"},r.a.createElement("div",{id:"covers-nb"},r.a.createElement("span",{className:"covers-title"},"Nombre de couverts :"),r.a.createElement("span",{className:"covers"},o.length>0?d.coversNb:"",r.a.createElement("i",{className:"fa fa-cutlery","aria-hidden":"true"})),r.a.createElement("div",{className:"add-ticket"},r.a.createElement("span",{id:"confirm",onClick:H},"Placé"),r.a.createElement("span",{id:"cancel",onClick:W},"Absent"))))),r.a.createElement("div",{id:"admin-bottom-section",style:"none"==q?{display:"none"}:{display:"flex"}},r.a.createElement("div",{className:"first"},r.a.createElement("h3",null,"Temps de repas moyen :"),r.a.createElement("div",{className:"estimate-waiting-time"},1===t&&r.a.createElement("span",{id:"less-time",onClick:U}),r.a.createElement("div",{id:"time-container"},r.a.createElement("span",{id:"time"},a)),1===t&&r.a.createElement("span",{id:"more-time",onClick:j}))),r.a.createElement("div",{className:"second"},r.a.createElement("h3",null,"Total en attente : "),r.a.createElement("span",{id:"tickets-count"},o.length,o.length<2?" ticket":" tickets")))),r.a.createElement("div",{id:"right-section"},r.a.createElement("div",{id:"admin-side-section"},r.a.createElement("ul",{id:"ticket-list"},0===o.length&&r.a.createElement("div",{id:"empty-list-add-ticket"},0===t&&r.a.createElement("span",{id:"service-off"},"Pour ajouter un ticket, lancez le service."),1===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Pour ajouter un ticket, c'est ici"),r.a.createElement("img",{src:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.proctorgallagherinstitute.com%2Fwp-content%2Fuploads%2F2019%2F03%2Forange-curved-arrow.png&f=1&nofb=1"}))),o.map((function(e){return r.a.createElement(Re,{key:e.id,ticket:e})}))),r.a.createElement("div",{className:"tickets-count"},0===t&&r.a.createElement("span",{id:"service-off"},"Service suspendu"),r.a.createElement("span",{id:"mobile-time-button",onClick:ae},r.a.createElement("i",{className:"fa fa-clock-o","aria-hidden":"true"})),1===t&&r.a.createElement("span",{id:"add-ticket",onClick:ee},"Ajouter un ticket"),r.a.createElement(Se.a,{isOpen:X,onAfterOpen:te,onRequestClose:K,onAfterClose:B,style:Y,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,contentLabel:"Ticket adding modal"},r.a.createElement("div",{className:"modal-title"},g&&r.a.createElement("div",{className:"previous-button",onClick:v}),!g&&r.a.createElement("div",{className:"close-button",onClick:K},"Fermer "," ")),r.a.createElement("div",{className:"ticket-form--container"},!g&&r.a.createElement("h2",{ref:function(e){return Q=e}},"Ajout de ticket"),r.a.createElement("form",{className:"ticket-form",onSubmit:z},!g&&r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{name:"lastName",placeholder:"Nom",onChange:A,value:k}),r.a.createElement(de,{name:"firstName",placeholder:"Prénom",onChange:A,value:y}),r.a.createElement(de,{name:"email",type:"email",placeholder:"Adresse Email",onChange:A,value:S}),r.a.createElement(de,{name:"phone",placeholder:"Téléphone",onChange:A,value:w}),r.a.createElement(de,{name:"cutlery",type:"number",placeholder:"Nombre de couverts",onChange:A,value:R,step:"5",min:"0"}),L&&r.a.createElement("div",{id:"errors"},r.a.createElement("span",null," Merci de compléter les champs ",r.a.createElement("strong",null,"Nom"),", ",r.a.createElement("strong",null,"Prénom")," et ",r.a.createElement("strong",null,"Nombre de couverts"),".")),D&&r.a.createElement("div",{id:"errors"},r.a.createElement("span",null," Merci de vérifier l'adresse mail.")),O&&"coversNb"==O.field&&r.a.createElement("span",{className:"cover-error"},O.message)),g&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{ref:function(e){return Q=e}},"Récapitulatif"),r.a.createElement("h3",null,"Prénom"),r.a.createElement("span",null,k),r.a.createElement("h3",null,"Nom"),r.a.createElement("span",null,y),S.length>1&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Email"),r.a.createElement("span",null,S)),w.length>1&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Téléphone"),r.a.createElement("span",null,w)),r.a.createElement("h3",null,"Nombre de couverts"),r.a.createElement("span",null,R),r.a.createElement("h3",null,"Heure estimée"),r.a.createElement("span",{id:"estimated-entry"},M),r.a.createElement("div",{className:"bottom"},r.a.createElement("div",{className:"cancel-button",onClick:K},"Annuler"),r.a.createElement("button",{className:"ticket-submit button-alt",type:"submit"},"Valider"))),!g&&r.a.createElement("div",{className:"bottom"},r.a.createElement("a",{className:"ticket-next button-alt",onClick:G},"Suivant"))))))))))},Pe=Object(l.b)((function(e){return{restaurantId:e.user.restaurantId,status:e.user.restaurantProfileEditInput.status,averageEatingTime:e.user.restaurantProfileEditInput.averageEatingTime,tickets:e.user.restaurantTicketsData,loadingTicketsData:e.user.loadingTickets,currentTime:e.user.currentTime,currentTicket:e.tickets.currentTicket,lastName:e.tickets.ticketInscriptionInput.lastName,firstName:e.tickets.ticketInscriptionInput.firstName,email:e.tickets.ticketInscriptionInput.email,phone:e.tickets.ticketInscriptionInput.phone,cutlery:e.tickets.ticketInscriptionInput.cutlery,errors:e.tickets.ticketSubscriptionErrors[0],showModalTicketValidation:e.tickets.ticketInscriptionInput.showModalTicketValidation,estimatedEntryTime:e.tickets.ticketInscriptionInput.estimatedEntryTime,modalErrors:e.tickets.ticketInscriptionInput.errors.modal,emailError:e.tickets.ticketInscriptionInput.errors.email,mobileClockClickState:e.user.showElements.mobileTimeEstimation}}),(function(e){return{handleDecreaseMinute:function(){e({type:"DECREASE_MINUTE"})},handleIncreaseMinute:function(){e({type:"INCREASE_MINUTE"})},handleChangeServiceStatus:function(){e({type:"CHANGE_SERVICE_STATUS"})},refreshTime:function(){e({type:"REFRESH_TIME"})},cancelCurrentTicket:function(){e({type:"CANCEL_CURRENT_TICKET"})},confirmCurrentTicket:function(){e({type:"CONFIRM_CURRENT_TICKET"})},changeTicketInputValue:function(t,a){e(m(t,a))},handleTicketSubscribe:function(){e({type:"MODAL_TICKET_ADD"})},handleShowModalTicketForm:function(){e({type:"SHOW_MODAL_TICKET_FORM"})},handleShowModalTicketValidation:function(){e({type:"SHOW_MODAL_TICKET_VALIDATION"})},handleModalTicketValidate:function(){e({type:"MODAL_TICKET_VALIDATE"})},handleModalTicketCancel:function(){e({type:"MODAL_TICKET_CANCEL"})},showModalErrors:function(){e({type:"SHOW_MODAL_ERRORS"})},showModalEmailError:function(){e({type:"SHOW_MODAL_EMAIL_ERROR"})},handleClearModalForm:function(){e({type:"CLEAR_MODAL_FORM"})},fetchTicketsData:function(){e({type:"FETCH_TICKETS_DATA"})},handleMobileClockClick:function(t){e(function(e){return{type:"MOBILE_CLOCK_CLICK",newValue:e}}(t))}}}))(Ae),Me=(a(118),function(){return r.a.createElement("main",{className:"legal"},r.a.createElement("h1",null,"Mentions légales"),r.a.createElement("div",{className:"legal__content"},r.a.createElement("div",null,r.a.createElement("h2",null,"Editeur"),r.a.createElement("p",null,"ListEat, équipe de 4 développeurs formés chez O’clock au capital de 1 658 475 cafés, ayant son siège social chez eux.")),r.a.createElement("div",null,r.a.createElement("h2",null,"Directeur de publication"),r.a.createElement("p",null,"Mystère…")),r.a.createElement("div",null,r.a.createElement("h2",null,"Adresse électronique"),r.a.createElement("p",null,"hello@listeat.io")),r.a.createElement("div",null,r.a.createElement("h2",null,"Hébergeur"),r.a.createElement("p",null,"Amazon Web Services, Inc.",r.a.createElement("br",null),"P.O. Box 81226",r.a.createElement("br",null),"Seattle, WA 98108-1226")),r.a.createElement("div",null,r.a.createElement("h2",null,"Déclaration CNIL"),r.a.createElement("p",null,"¯\\_(ツ)_/¯"))))}),Le=(a(119),function(){return r.a.createElement("main",{className:"data"},r.a.createElement("h1",null,"Politique de protection des données"),r.a.createElement("p",null,"Dans le cadre de l’utilisation de ses services, ListEat, en qualité de responsable de traitement, est susceptible de collecter et traiter des données à caractère personnel vous concernant. Conformément au principe de minimisation, nous ne collectons que les données nécessaires au regard des finalités pour lesquelles elles sont traitées."),r.a.createElement("div",{className:"data__content"},r.a.createElement("div",null,r.a.createElement("h2",null,"Quelles données recueillons-nous ?"),r.a.createElement("p",null,"Les différentes catégories de données collectées dans le cadre de votre utilisation de nos services sont les suivantes :",r.a.createElement("br",null),"- Données d’identification (notamment nom, prénom, nom de votre établissement, siret, adresse postale),",r.a.createElement("br",null),"- Données de contact (notamment numéro de téléphone, adresse email),",r.a.createElement("br",null),"- Données d’usage (notamment pages web visitées, quantité de tickets créés),",r.a.createElement("br",null),"- Données de connexion (notamment adresse IP de votre appareil numérique, logs de connexion et d’usage),",r.a.createElement("br",null),"- Données de localisation.")),r.a.createElement("div",null,r.a.createElement("h2",null,"À quoi servent les données susceptibles d'être collectées par ListEat ?"),r.a.createElement("p",null,"La finalité est notamment, et sans que cette liste soit exhaustive, de faire bénéficier les utilisateurs de l’ensemble des services disponibles sur le site de ListEat (création d’un compte partenaire, inscription sur les listes d’attente des restaurants partenaires…), de permettre la navigation sur son site internet, de permettre la communication avec ses utilisateurs."),r.a.createElement("p",null,"ListEat traite vos informations aux fins décrites dans les présentes règles et conformément à la loi, avec votre consentement, afin de traiter vos informations à des fins spécifiques. Vous êtes libre de revenir sur votre consentement à tout moment.")),r.a.createElement("div",null,r.a.createElement("h2",null,"Combien de temps vos données sont-elles conservées ?"),r.a.createElement("p",null,"Nous ne conservons vos données que pendant la durée nécessaire à l’accomplissement des finalités mentionnées ci-dessus ou pour nous permettre de répondre à nos obligations légales.")),r.a.createElement("div",null,r.a.createElement("h2",null,"Qui est susceptible d'accéder à vos données personnelles ?"),r.a.createElement("p",null,"Vos données à caractère personnel pourront être traitées par le personnel habilité de ListEat, de ses partenaires ou prestataires. Le recours à ces partenaires ou prestataires est nécessaire au bon fonctionnement des services proposés."),r.a.createElement("p",null,"Si ces destinataires sont amenés à traiter vos données en dehors de l’Union européenne, les transferts seront réalisés dans le respect de la Réglementation.")),r.a.createElement("div",null,r.a.createElement("h2",null,"Quelle sécurité pour vos données ?"),r.a.createElement("p",null,"ListEat met en œuvre toutes les mesures techniques et organisationnelles utiles, au regard de la nature, de la portée et du contexte des données personnelles que vous nous communiquez et des risques présentés par leur traitement, pour préserver la sécurité de vos données personnelles et, notamment, empêcher toute destruction, perte, altération, divulgation, intrusion ou accès non autorisé à ces données, de manière accidentelle ou illicite."),r.a.createElement("p",null,"Le respect de la sécurité et de la protection de vos données s’impose également à nos prestataires.")),r.a.createElement("div",null,r.a.createElement("h2",null,"Comment exercer vos droits ?"),r.a.createElement("p",null,"Conformément à la réglementation applicable en matière de protection des données personnelles, vous pouvez, à tout moment, exercer vos droits d’accès, de rectification, de suppression des données vous concernant ainsi que vos droits de limitation et d’opposition au traitement et à la portabilité de vos données personnelles."),r.a.createElement("p",null,"En outre, vous disposez légalement du droit de définir des directives relatives au sort de vos données à caractère personnel post mortem."),r.a.createElement("p",null,"Ces droits s’exercent par email à l’adresse suivante :"),r.a.createElement("div",{className:"data__content__contact"},"Délégué à la Protection des Données",r.a.createElement("br",null),"hello@listeat.io"),r.a.createElement("p",null,"Dans ce cadre, nous vous prions de bien vouloir accompagner votre demande des éléments nécessaires à votre identification (nom, prénom, email) ainsi que toute autre information nécessaire à la confirmation de votre identité."),r.a.createElement("p",null,"Pour certains services spécifiques, ces droits sont susceptibles de s’exercer directement en ligne (gestion de votre compte utilisateur, gestion de vos abonnements aux newsletters, etc.)."),r.a.createElement("p",null,"Vous disposez également d’un droit de recours auprès de la Commission nationale de l’informatique et des libertés en cas de violation de la réglementation applicable en matière de protection des données personnelles.")),r.a.createElement("div",null,r.a.createElement("h2",null,"Modifications"),r.a.createElement("p",null,"ListEat se réserve le droit de faire évoluer la présente politique de protection des données personnelles, applicable à compter du 22 avril 2020 et s’engage à vous informer sur son site internet des futures modifications éventuelles."))))}),De=(a(120),function(e){var t=e.isRestaurantContentOpen,a=e.isClientContentOpen,n=e.openRestaurantContent,s=e.openClientContent;return r.a.createElement("main",{className:"faq"},r.a.createElement("h1",null,"Aide"),r.a.createElement("p",{className:"faq__choice"},"Je suis..."),r.a.createElement("div",{className:"faq__links"},r.a.createElement("a",{className:"faq__link partner ".concat(t?"active":""),onClick:function(){n()}},"Restaurateur"),r.a.createElement("a",{className:"faq__link customer ".concat(a?"active":""),onClick:function(){s()}},"Client")),t&&r.a.createElement("div",{className:"faq__container"},r.a.createElement("div",{className:"faq__content"},r.a.createElement("p",{className:"faq__content__question"},"Qui peut utiliser l’application ListEat ?"),r.a.createElement("p",{className:"faq__content__answer"},"Tout restaurateur gérant un établissement de restauration commerciale et possédant un code siret valide peut s’inscrire et utiliser ListEat.")),r.a.createElement("div",{className:"faq__content"},r.a.createElement("p",{className:"faq__content__question"},"Qu’est-ce qu’un QR code ?"),r.a.createElement("p",{className:"faq__content__answer"},"Un QR code est un type de code-barre pouvant être scanné depuis un smartphone (ou autres appareils compatibles), stockant des informations telles que l’adresse d’un site internet. Dans le cas présent, il s’agira de l’adresse menant à la page internet qui permettra au client de s’inscrire sur la liste d’attente d’un restaurant, chaque QR code étant propre à chaque restaurant.")),r.a.createElement("div",{className:"faq__content"},r.a.createElement("p",{className:"faq__content__question"},"Que faire si un client ne possède pas de smartphone ?"),r.a.createElement("p",{className:"faq__content__answer"},"Si certains de vos clients ne possèdent pas de téléphone compatible (ou d’une connexion internet), vous pouvez ponctuellement ajouter un ticket via votre espace partenaire")),r.a.createElement("div",{className:"faq__content"},r.a.createElement("p",{className:"faq__content__question"},"Comment est calculé le temps d’attente estimé ?"),r.a.createElement("p",{className:"faq__content__answer"},"Lors de votre inscription, vous renseignez les informations liées à votre restaurant dont le temps moyen d’un repas, le nombre de places disponibles dans votre établissement. En fonction de ces informations, notre algorithme calcule le temps d’attente et l’horaire de passage estimés.")),r.a.createElement("div",{className:"faq__content"},r.a.createElement("p",{className:"faq__content__question"},"Est-il possible de changer le temps moyen d’un repas selon le moment de la journée ?"),r.a.createElement("p",{className:"faq__content__answer"},"Oui, selon la fluctuation de la fréquentation (ex : déjeuner, coupure, dîner, semaine, week-end), vous pouvez faire varier le temps moyen d’un repas dans votre restaurant afin d’ajuster au mieux l’estimation du temps d’attente.")),r.a.createElement("div",{className:"faq__content"},r.a.createElement("p",{className:"faq__content__question"},"Que se passe-t-il si un client ne se présente pas lorsque son tour arrive ?"),r.a.createElement("p",{className:"faq__content__answer"},"En cas de no-show, il vous suffit de cliquer sur le bouton “absent” en dessous du nombre de couverts du ticket afin de retirer le client de votre liste d’attente."))),a&&r.a.createElement("div",{className:"faq__container"},r.a.createElement("div",{className:"faq__content"},r.a.createElement("p",{className:"faq__content__question"},"Qui peut utiliser l’application ListEat ?"),r.a.createElement("p",{className:"faq__content__answer"},"Tout client possédant un smartphone doté d’une application de lecture de QR code et d’une connexion internet.")),r.a.createElement("div",{className:"faq__content"},r.a.createElement("p",{className:"faq__content__question"},"Qu’est-ce qu’un QR code ?"),r.a.createElement("p",{className:"faq__content__answer"},"Un QR code est un type de code-barre pouvant être scanné depuis un smartphone (ou autres appareils compatibles), stockant des informations telles que l’adresse d’un site internet. Dans le cas présent, il s’agira de l’adresse menant à la page internet qui permettra de s’inscrire sur la liste d’attente d’un restaurant, chaque QR code étant propre à chaque restaurant.")),r.a.createElement("div",{className:"faq__content"},r.a.createElement("p",{className:"faq__content__question"},"Ai-je besoin d’un compte pour utiliser l’application ListEat ?"),r.a.createElement("p",{className:"faq__content__answer"},"Non, vous n’avez pas besoin de créer un compte pour vous inscrire sur la liste d’attente d’un restaurant partenaire.")),r.a.createElement("div",{className:"faq__content"},r.a.createElement("p",{className:"faq__content__question"},"Que faire si je souhaite annuler mon inscription sur la liste d’attente ?"),r.a.createElement("p",{className:"faq__content__answer"},"Si vous ne pouvez pas vous rendre au restaurant à l’horaire indiqué, nous vous remercions d’annuler votre inscription via le lien d’annulation fourni dans l’email de confirmation. Vous libéreriez ainsi une place pour d’autres clients."))))}),qe=Object(l.b)((function(e){return{isRestaurantContentOpen:e.user.isRestaurantContentOpen,isClientContentOpen:e.user.isClientContentOpen}}),(function(e){return{openRestaurantContent:function(){e({type:"OPEN_RESTAURANT_CONTENT"})},openClientContent:function(){e({type:"OPEN_CLIENT_CONTENT"})}}}))(De),Ve=(a(121),function(e){var t=e.lastname,a=e.firstname,s=e.email,i=e.password,l=e.passwordConfirmation,c=e.restaurantName,o=e.address,u=e.postcode,m=e.city,d=e.country,p=e.phone,E=e.cis,f=e.averageEatingTime,h=e.coversNumber,g=e.changeSignUpInputValue,v=e.handleSubscribe,N=(e.showPasswordError,e.handleChangePasswordConfirmation,e.signupErrors),_=e.showSignupConfirmation,I=e.isPassConfirmed,C=e.changeIsPassConfirmed,T=e.clearAll,b=e.isPassTooShort,k=e.changeIsPassTooShort;Object(n.useEffect)((function(){T()}),[]);var y=function(e){g(e.target.value,e.target.name)},S=Object(n.useRef)(""),w=function(e){return window.scrollTo(0,e.current.offsetTop),!0},R=function(){i.length<6?k(!0):(i.length>=6||l)&&i!==l?(k(!1),C(!1)):(k(!1),C(!0))},O=function(){return window.scrollTo(0,0),!0};return r.a.createElement("div",{className:"page-container"},r.a.createElement("div",{className:"signup-wrapper"},r.a.createElement("h1",null,"Inscription"),r.a.createElement("form",{id:"signup-form",onSubmit:function(e){e.preventDefault(),i===l?(v(),C(!0)):(C(!0),C(!1))}},N.length>0&&O()&&r.a.createElement("div",{id:"errors"},r.a.createElement("h4",null,"Des erreurs ont été détectées :"),r.a.createElement("ul",null,N.map((function(e){return"email"===e.field?r.a.createElement("li",{key:"email"},r.a.createElement("span",null,"Email :")," ",e.message):"password"===e.field?r.a.createElement("li",{key:"password"},r.a.createElement("span",null,"Mot de passe :")," ",e.message):"lastname"===e.field?r.a.createElement("li",{key:"lastname"},r.a.createElement("span",null,"Nom :")," ",e.message):"firstname"===e.field?r.a.createElement("li",{key:"firstname"},r.a.createElement("span",null,"Prénom :")," ",e.message):"siretCode"===e.field?r.a.createElement("li",{key:"siretCode"},r.a.createElement("span",null,"SIRET :")," ",e.message):"name"===e.field?r.a.createElement("li",{key:"name"},r.a.createElement("span",null,"Nom du restaurant :")," ",e.message):"address"===e.field?r.a.createElement("li",{key:"address"},r.a.createElement("span",null,"Adresse restaurant :")," ",e.message):"city"===e.field?r.a.createElement("li",{key:"city"},r.a.createElement("span",null,"Ville :")," ",e.message):"country"===e.field?r.a.createElement("li",{key:"country"},r.a.createElement("span",null,"Pays :")," ",e.message):"phone"===e.field?r.a.createElement("li",{key:"phone"},r.a.createElement("span",null,"Téléphone :")," ",e.message):"siret code"===e.field?r.a.createElement("li",{key:"cis"},r.a.createElement("span",null,"N° SIRET :")," ",e.message):"adresse postale"===e.field?r.a.createElement("li",{key:"postcode"},r.a.createElement("span",null,"Adresse :")," ",e.message):void 0})))),_&&O()&&r.a.createElement("div",{id:"signup-confirmation"},r.a.createElement("span",null,"Merci, vous avez bien été enregistré ! Vous pouvez désormais vous",r.a.createElement("a",{href:"/login"}," connecter à votre espace"),".")),r.a.createElement("span",{className:"form-zone-title"},"Vous concernant",r.a.createElement("img",{src:"data:image/svg+xml;base64, PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDYwLjczMSA2MC43MzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDYwLjczMSA2MC43MzE7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48Zz48Zz4KCTxnPgoJCTxwYXRoIGQ9Ik00NC44NTMsNDIuOTUyaDExLjAzMUwzOC4xMDEsNjAuNzMxTDIwLjMyNCw0Mi45NTJoMTEuMTZDMjkuOTA4LDIyLjAwMSwxOC45OTUsNS4wNzUsNC44NDcsMC45NiAgICBDNy4wMDcsMC4zMzIsOS4yNDMsMCwxMS41MjksMEMyOC44MTIsMCw0My4wMzcsMTguOCw0NC44NTMsNDIuOTUyeiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgY2xhc3M9ImFjdGl2ZS1wYXRoIiBzdHlsZT0iZmlsbDojRkY4NDAwIiBkYXRhLW9sZF9jb2xvcj0iIzAwMDAwMCI+PC9wYXRoPgoJPC9nPgo8L2c+PC9nPiA8L3N2Zz4="})),r.a.createElement("label",{className:"signup-label",htmlFor:"lastname"},"Nom"),r.a.createElement("input",{key:"lastname",name:"lastname",placeholder:"Nom",id:"lastname",value:t,onChange:y,required:!0}),r.a.createElement("label",{className:"signup-label",htmlFor:"firstname"},"Prénom"),r.a.createElement("input",{key:"firstname",name:"firstname",placeholder:"Prénom",id:"firstname",value:a,onChange:y,required:!0}),r.a.createElement("label",{className:"signup-label",htmlFor:"email"},"Adresse email"),r.a.createElement("input",{key:"email",name:"email",type:"email",placeholder:"Adresse email",id:"email",value:s,onChange:y,required:!0}),r.a.createElement("label",{className:"signup-label",htmlFor:"password"},"Mot de passe"),r.a.createElement("input",{ref:S,key:"password",name:"password",type:"password",placeholder:"Mot de passe",id:"password",value:i,onChange:y,minLength:"6",onBlur:R,required:!0}),b&&w(S)&&r.a.createElement("span",{id:"password-error"},"Le mot de passe doit contenir au moins 6 caractères."),r.a.createElement("label",{className:"signup-label",htmlFor:"passwordConfirmation"},"Confirmation du mot de passe"),r.a.createElement("input",{key:"passwordConfirmation",name:"passwordConfirmation",type:"password",placeholder:"Confirmation du mot de passe",id:"password-confirmation",value:l,onChange:y,onBlur:R,required:!0}),!I&&w(S)&&r.a.createElement("span",{id:"password-error"},"Les mots de passe ne correspondent pas."),r.a.createElement("span",{className:"form-zone-title"},"Concernant votre restaurant",r.a.createElement("img",{src:"data:image/svg+xml;base64, PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDYwLjczMSA2MC43MzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDYwLjczMSA2MC43MzE7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48Zz48Zz4KCTxnPgoJCTxwYXRoIGQ9Ik00NC44NTMsNDIuOTUyaDExLjAzMUwzOC4xMDEsNjAuNzMxTDIwLjMyNCw0Mi45NTJoMTEuMTZDMjkuOTA4LDIyLjAwMSwxOC45OTUsNS4wNzUsNC44NDcsMC45NiAgICBDNy4wMDcsMC4zMzIsOS4yNDMsMCwxMS41MjksMEMyOC44MTIsMCw0My4wMzcsMTguOCw0NC44NTMsNDIuOTUyeiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgY2xhc3M9ImFjdGl2ZS1wYXRoIiBzdHlsZT0iZmlsbDojRkY4NDAwIiBkYXRhLW9sZF9jb2xvcj0iIzAwMDAwMCI+PC9wYXRoPgoJPC9nPgo8L2c+PC9nPiA8L3N2Zz4="})),r.a.createElement("label",{className:"signup-label",htmlFor:"restaurantName"},"Nom du restaurant"),r.a.createElement("input",{key:"restaurantName",name:"restaurantName",placeholder:"Nom de votre restaurant",id:"name",value:c,onChange:y,required:!0}),r.a.createElement("label",{className:"signup-label",htmlFor:"address"},"Adresse du restaurant"),r.a.createElement("input",{key:"address",name:"address",placeholder:"Adresse",id:"address",value:o,onChange:y,required:!0}),r.a.createElement("label",{className:"signup-label",htmlFor:"postcode"},"Code postal"),r.a.createElement("input",{key:"postcode",name:"postcode",placeholder:"Code postal",id:"postcode",value:u,onChange:y,required:!0}),r.a.createElement("label",{className:"signup-label",htmlFor:"city"},"Ville"),r.a.createElement("input",{key:"city",name:"city",placeholder:"Ville",id:"city",value:m,onChange:y,required:!0}),r.a.createElement("label",{className:"signup-label",htmlFor:"country"},"Pays"),r.a.createElement("input",{key:"country",name:"country",placeholder:"Pays",id:"country",value:d,onChange:y,required:!0}),r.a.createElement("label",{className:"signup-label",htmlFor:"phone"},"Téléphone"),r.a.createElement("input",{key:"phone",name:"phone",placeholder:"Téléphone",id:"phone",value:p,onChange:y,required:!0}),r.a.createElement("label",{className:"signup-label",htmlFor:"cis"},"N°SIRET"),r.a.createElement("input",{key:"cis",name:"cis",placeholder:"N°SIRET",id:"cis",value:E,onChange:y,required:!0}),r.a.createElement("label",{className:"signup-label",htmlFor:"averageEatingTime"},"Temps moyen d'un repas dans votre restaurant"),r.a.createElement("input",{key:"averageEatingTime",name:"averageEatingTime",placeholder:"Temps moyen de repas en minutes",id:"average-eating-time",type:"number",step:"5",min:"0",value:f,onChange:y,required:!0}),r.a.createElement("label",{className:"signup-label",htmlFor:"coversNumber"},"Nombre de couverts"),r.a.createElement("input",{key:"coversNumber",name:"coversNumber",placeholder:"Nombre de couverts",id:"covers-number",type:"number",step:"1",min:"1",value:h,onChange:y,required:!0}),r.a.createElement("button",{type:"submit",className:"button-alt"},"Inscription"))))});Ve.propTypes={lastname:q.a.string.isRequired,firstname:q.a.string.isRequired,email:q.a.string.isRequired,password:q.a.string.isRequired,passwordConfirmation:q.a.string.isRequired,restaurantName:q.a.string.isRequired,address:q.a.string.isRequired,postcode:q.a.oneOfType([q.a.string,q.a.number]).isRequired,city:q.a.string.isRequired,country:q.a.string.isRequired,phone:q.a.string.isRequired,cis:q.a.PropTypes.string.isRequired,averageEatingTime:q.a.oneOfType([q.a.string,q.a.number]).isRequired,coversNumber:q.a.oneOfType([q.a.string,q.a.number]).isRequired,changeSignUpInputValue:q.a.func.isRequired,handleSubscribe:q.a.func.isRequired};var Fe=Ve,Ue=Object(l.b)((function(e){return{lastname:e.user.signupInput.lastname,firstname:e.user.signupInput.firstname,email:e.user.signupInput.email,password:e.user.signupInput.password,passwordConfirmation:e.user.signupInput.passwordConfirmation,restaurantName:e.user.signupInput.restaurantName,address:e.user.signupInput.address,postcode:e.user.signupInput.postcode,city:e.user.signupInput.city,country:e.user.signupInput.country,phone:e.user.signupInput.phone,cis:e.user.signupInput.cis,averageEatingTime:e.user.signupInput.averageEatingTime,coversNumber:e.user.signupInput.coversNumber,showPasswordError:e.user.signupInput.showPasswordError,signupErrors:e.user.signupErrors,showSignupConfirmation:e.user.signupConfirmation,isPassConfirmed:e.user.signupInput.isPassConfirmed,isPassTooShort:e.user.signupInput.isPassTooShort}}),(function(e){return{changeSignUpInputValue:function(t,a){e(function(e,t){return{type:"CHANGE_SIGNUP_INPUT_VALUE",newValue:e,fieldName:t}}(t,a))},handleSubscribe:function(){e({type:"SIGN_UP"})},handleChangePasswordConfirmation:function(t){e(function(e){return{type:"CHANGE_SHOW_PASSWORD_ERROR",newValue:e}}(t))},changeIsPassConfirmed:function(t){e(function(e){return{type:"CHANGE_IS_PASS_CONFIRMED",newValue:e}}(t))},clearAll:function(){e({type:"CLEAR_ALL"})},changeIsPassTooShort:function(t){e(function(e){return{type:"CHANGE_IS_PASS_TOO_SHORT",newValue:e}}(t))}}}))(Fe),je=(a(122),a(123),function(e){var t=e.name,a=e.type,n=e.placeholder,s=e.value,i=e.onChange;return r.a.createElement("input",{id:t,type:a,className:"field input",placeholder:n,name:t,value:s,onChange:function(e){i(e.target.value,t)}})}),xe=function(e){var t=e.restaurantName,a=e.address,s=e.postcode,i=e.city,l=e.country,c=e.phone,o=e.newPass,u=e.newPassConfirmation,m=e.actualPass,d=e.changeRestaurantProfileInputValue,p=e.handleRestaurantEdit,E=e.handleQrCode,f=e.displayEditConfirmation,h=e.displayEditError,g=e.editErrorMessage,v=e.isNewPassConfirmed,N=e.changeIsNewPassConfirmed,_=e.clearShowedConfirmationOrErrorMessage,I=e.clearPasswordInputs;Object(n.useEffect)((function(){_(),I()}),[]);var C=function(){return window.scrollTo(0,0),!0},T=function(e){e.preventDefault(),d(e.target.value,e.target.name)};return r.a.createElement("div",{className:"profile-container"},r.a.createElement("form",{className:"infos-container",onSubmit:function(e){e.preventDefault(),o===u?(p(),N(!0)):N(!1)}},r.a.createElement("div",null,f&&C()&&r.a.createElement("div",{className:"confirmation"},"Vos modifications ont bien été prises en compte."),h&&C()&&r.a.createElement("span",{className:"error"},g),r.a.createElement("p",null,"Modifier les informations de mon restaurant"),r.a.createElement("label",{htmlFor:"restaurantName"},"Nom du restaurant"),r.a.createElement(je,{name:"restaurantName",placeholder:"Nom de l'établissement",onChange:d,value:t}),r.a.createElement("label",{htmlFor:"address"},"Adresse du restaurant"),r.a.createElement(je,{name:"address",placeholder:"Adresse",onChange:d,value:a}),r.a.createElement("label",{htmlFor:"postcode"},"Code postal"),r.a.createElement(je,{name:"postcode",placeholder:"Code postal",onChange:d,value:s}),r.a.createElement("label",{htmlFor:"city"},"Ville"),r.a.createElement(je,{className:"city",name:"city",placeholder:"Ville",onChange:d,value:i}),r.a.createElement("label",{htmlFor:"country"},"Pays"),r.a.createElement(je,{name:"country",placeholder:"Pays",onChange:d,value:l}),r.a.createElement("label",{htmlFor:"phone"},"Numéro de téléphone"),r.a.createElement(je,{name:"phone",placeholder:"Téléphone",onChange:d,value:c})),r.a.createElement("div",null,r.a.createElement("p",null,"Modifier mes informations personnelles"),r.a.createElement("label",{htmlFor:"newPass"},"Nouveau mot de passe"),r.a.createElement("input",{id:"newPass",type:"password",className:"field input",placeholder:"Nouveau mot de passe",name:"newPass",value:o,onChange:T,minLength:"6"}),r.a.createElement("label",{htmlFor:"password"},"Confirmation du nouveau mot de passe"),r.a.createElement(je,{name:"newPassConfirmation",type:"password",placeholder:"Confirmation du nouveau mot de passe",onChange:d,value:u}),!v&&r.a.createElement("span",{className:"error"},"Les champs du nouveau mot de passe ne correspondent pas.")),r.a.createElement("div",{className:"actual-pass"},r.a.createElement("div",{className:"actual-pass-info"},"Pour valider ces modifications, merci d'indiquer votre mot de passe actuel"),r.a.createElement("label",{htmlFor:"actualPass"},"Mot de passe actuel"),r.a.createElement("input",{id:"actualPass",type:"password",className:"field input",placeholder:"Mot de passe actuel",name:"actualPass",value:m,onChange:T,required:!0})),r.a.createElement("button",{className:"save-button button-alt",type:"submit"},"Enregistrer")),r.a.createElement("div",{className:"qr-container",onClick:E},r.a.createElement("span",null,"Télécharger"),r.a.createElement("p",null,"mon QR code"),r.a.createElement("i",{className:"fa fa-qrcode","aria-hidden":"true"})))};xe.propTypes={restaurantName:q.a.string.isRequired,address:q.a.string.isRequired,postcode:q.a.oneOfType([q.a.string,q.a.number]).isRequired,city:q.a.string.isRequired,country:q.a.string.isRequired,phone:q.a.string.isRequired,newPass:q.a.string.isRequired,newPassConfirmation:q.a.string.isRequired,actualPass:q.a.string.isRequired,changeRestaurantProfileInputValue:q.a.func.isRequired,handleRestaurantEdit:q.a.func.isRequired};var ze=xe,He=Object(l.b)((function(e){return{restaurantName:e.user.restaurantProfileEditInput.restaurantName,address:e.user.restaurantProfileEditInput.address,postcode:e.user.restaurantProfileEditInput.postcode,city:e.user.restaurantProfileEditInput.city,country:e.user.restaurantProfileEditInput.country,phone:e.user.restaurantProfileEditInput.phone,newPass:e.user.restaurantProfileEditInput.newPass,newPassConfirmation:e.user.restaurantProfileEditInput.newPassConfirmation,actualPass:e.user.restaurantProfileEditInput.actualPass,displayEditConfirmation:e.user.restaurantProfileEditInput.displayEditConfirmation,displayEditError:e.user.restaurantProfileEditInput.displayEditError,editErrorMessage:e.user.restaurantProfileEditInput.editErrorMessage,isNewPassConfirmed:e.user.restaurantProfileEditInput.isNewPassConfirmed}}),(function(e){return{changeRestaurantProfileInputValue:function(t,a){e(function(e,t){return{type:"CHANGE_RESTAURANT_PROFILE_INPUT_VALUE",newValue:e,fieldName:t}}(t,a))},handleRestaurantEdit:function(){e({type:"EDIT_RESTAURANT"})},handleQrCode:function(){e({type:"QRCODE_DOWNLOAD"})},changeIsNewPassConfirmed:function(t){e(function(e){return{type:"CHANGE_IS_NEW_PASS_CONFIRMED",newValue:e}}(t))},clearShowedConfirmationOrErrorMessage:function(){e({type:"CLEAR_SHOWED_CONFIRMATION_OR_ERROR_MESSAGE"})},clearPasswordInputs:function(){e({type:"CLEAR_PASSWORD_INPUTS"})}}}))(ze),We=(a(124),function(){return r.a.createElement("main",{className:"main"},r.a.createElement("div",null,"Il semblerait que vous essayez d'accéder à une ressource non existante..."),r.a.createElement("a",{className:"link",href:"/"},"Revenir sur la page d'accueil"))}),Ge=(a(125),function(e){var t=e.fetchTicketDataToCancel,a=e.restaurantName,s=e.ticketId,i=e.lastName,l=e.firstName,c=e.cutlery,o=e.estimatedEntryTime,u=e.estimatedWaitingTime,m=e.status,d=e.ticketInfoLoaded,p=e.cancelTicket,E=e.displayCancelConfirmation;Object(n.useEffect)((function(){t()}),[]);return d&&r.a.createElement("main",{id:"cancellation-by-mail"},r.a.createElement("h1",null,"Annulation de ticket "),r.a.createElement("h2",null,a),E&&r.a.createElement("div",{id:"cancel-confirmation"},r.a.createElement("span",null,"Merci, vous avez bien annulé votre ticket. A bientôt !")),r.a.createElement("div",{id:"cancel-infos"},r.a.createElement("p",null,"Numéro de ticket : ",r.a.createElement("span",null,s)),r.a.createElement("p",null,"Nom : ",r.a.createElement("span",null,i)),r.a.createElement("p",null,"Prénom : ",r.a.createElement("span",null,l)),r.a.createElement("p",null,"Nombre de couverts : ",r.a.createElement("span",null,c)),r.a.createElement("p",null,"Temps d'attente estimé : ",r.a.createElement("span",null,u)," minutes"),r.a.createElement("p",null,"Heure d'entrée estimée :",r.a.createElement("span",null," ",o?o.substring(o.indexOf("T")+1,o.indexOf("T")+6):"")),1===m&&!E&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Pour annuler votre ticket, appuyez sur le bouton suivant :"),r.a.createElement("button",{className:"yes__button button-alt",type:"button",onClick:function(){p()}},"Annuler")),2===m&&r.a.createElement("div",null,"Le ticket a été annulé.")))}),Ke=Object(l.b)((function(e){return{restaurantName:e.tickets.ticketInfoToCancel.restaurantName,ticketId:e.tickets.ticketInfoToCancel.ticketId,lastName:e.tickets.ticketInfoToCancel.lastName,firstName:e.tickets.ticketInfoToCancel.firstName,cutlery:e.tickets.ticketInfoToCancel.cutlery,estimatedEntryTime:e.tickets.ticketInfoToCancel.estimatedEntryTime,estimatedWaitingTime:e.tickets.ticketInfoToCancel.estimatedWaitingTime,status:e.tickets.ticketInfoToCancel.status,ticketInfoLoaded:e.tickets.ticketInfoToCancel.ticketInfoLoaded,displayCancelConfirmation:e.tickets.ticketInfoToCancel.displayCancelConfirmation}}),(function(e){return{fetchTicketDataToCancel:function(){e({type:"FETCH_TICKET_DATA_TO_CANCEL"})},cancelTicket:function(){e({type:"CANCEL_TICKET"})}}}))(Ge),Be=(a(126),a(127),function(e){var t=e.name,a=e.linkedinURL,n=e.role,s=e.avatar,i=e.tech;return r.a.createElement("div",{className:"team-member"},r.a.createElement("div",{id:"avatar",style:{backgroundImage:"url(".concat(s,")")}}),r.a.createElement("img",{id:"techno-logo",src:i}),r.a.createElement("h2",null,t," ",r.a.createElement("a",{href:a},r.a.createElement("i",{class:"fa fa-linkedin-square","aria-hidden":"true"}))),r.a.createElement("span",null,n))}),Ze=a.p+"images/231fc878d47bf80e05c3beadbeaecfa8.jpg",Qe=a.p+"images/84658064e98c684dc58630a8ddaefe12.png",Ye=a.p+"images/9be9c884499dc105b6daf11e9e087b9a.jpg",Je=a.p+"images/d8e1769adc64a70dc6ba4c6d64c710cd.jpg",Xe=a.p+"images/57606ad04d14a5474e5c12dec15435b0.png",$e=a.p+"images/4ade5cac5aba1b2a6129e12ce9a93deb.png",et=function(){return r.a.createElement("main",null,r.a.createElement("h1",null,"L'équipe derrière ListEat"),r.a.createElement("div",{id:"hi-there"},r.a.createElement("span",null,r.a.createElement("strong",null,"Développeurs web formés chez O'clock"),", école de formation 100% à distance, nous avons suivi un parcours intensif de 5 mois. Nous sommes spécialisés en React.js pour la partie front et Symfony pour la partie back."),r.a.createElement("span",null,r.a.createElement("strong",null,"Cette application web est le projet de fin de formation")," : nous avions un mois pour rédiger notre cahier des charges, cadrer notre projet, le développer et le mettre en ligne, tout cela en partant de zéro.")),r.a.createElement("div",{id:"team-container"},r.a.createElement(Be,{name:"Liza TA",role:"Scrum Master",linkedinURL:"https://www.linkedin.com/in/liza-t-xls/",avatar:Je,tech:Xe}),r.a.createElement(Be,{name:"Damien HUGUENY",role:"Lead dev back, SysAdmin",linkedinURL:"https://www.linkedin.com/in/damien-hugueny-717376194",avatar:Qe,tech:Xe}),r.a.createElement(Be,{name:"Loïc ZHU",role:"Lead dev front",linkedinURL:"https://fr.linkedin.com/in/loiczhu",avatar:Ye,tech:$e}),r.a.createElement(Be,{name:"Sylvain PAYET",role:"Product Owner, Git Master",linkedinURL:"https://www.linkedin.com/in/sylvainpayet",avatar:Ze,tech:$e})))},tt=(a(128),function(e){var t=e.isRestaurantLogged,a=e.checkLoggedRestaurant,s=e.checkingLoggedRestaurant,i=e.restaurantId,l=e.fetchRestaurantData,c=e.fetchTicketsData,o=(e.checkFetchedTicketsData,e.loadingTicketsData,e.isTemporarySubscribedTicket),u=e.isTicketValidate;return Object(n.useEffect)((function(){a()}),[]),t&&(l(i),c()),r.a.createElement("div",{className:"app"},r.a.createElement(U.a,null),!s&&r.a.createElement(V.d,null,r.a.createElement(V.b,{path:"/",exact:!0},r.a.createElement(G,null),r.a.createElement(se,null),r.a.createElement(me,null)),r.a.createElement(V.b,{path:"/faq",exact:!0},r.a.createElement(G,null),r.a.createElement(qe,null),r.a.createElement(me,null)),r.a.createElement(V.b,{path:"/legal",exact:!0},r.a.createElement(G,null),r.a.createElement(Me,null),r.a.createElement(me,null)),r.a.createElement(V.b,{path:"/data-protection",exact:!0},r.a.createElement(G,null),r.a.createElement(Le,null),r.a.createElement(me,null)),r.a.createElement(V.b,{path:"/team",exact:!0},r.a.createElement(G,null),r.a.createElement(et,null),r.a.createElement(me,null)),r.a.createElement(V.b,{path:"/login",exact:!0},r.a.createElement(G,null),!t&&r.a.createElement(ue,null),t&&r.a.createElement(V.a,{to:"/partner/".concat(i,"/administration")}),r.a.createElement(me,null)),r.a.createElement(V.b,{path:"/signup",exact:!0},r.a.createElement(G,null),!t&&r.a.createElement(Ue,null),t&&r.a.createElement(V.a,{to:"/"}),r.a.createElement(me,null)),r.a.createElement(V.b,{path:"/forgotten-password",exact:!0},r.a.createElement(G,null),r.a.createElement(Ne,null),r.a.createElement(me,null)),r.a.createElement(V.b,{path:"/partner/:id/administration",exact:!0},r.a.createElement(G,null),t&&r.a.createElement(Pe,null),!t&&r.a.createElement(V.a,{to:"/login"})),r.a.createElement(V.b,{path:"/partner/:id/administration/edit",exact:!0},r.a.createElement(G,null),t&&r.a.createElement(He,null),!t&&r.a.createElement(V.a,{to:"/login"})),r.a.createElement(V.b,{path:"/restaurant/:id/tickets/add",exact:!0},!o&&r.a.createElement(Ee,null),o&&r.a.createElement(V.a,{to:"/restaurant/tickets/validate"})),o&&r.a.createElement(V.b,{path:"/restaurant/tickets/validate",exact:!0},""===u&&r.a.createElement(Ie,null),""!==u&&u&&r.a.createElement(V.a,{to:"/tickets/confirmation"}),""!==u&&!u&&r.a.createElement(V.a,{to:"/tickets/cancellation"})),!o&&r.a.createElement(V.b,{path:"/restaurant/tickets/validate",exact:!0},r.a.createElement(V.a,{to:"/restaurant/".concat(localStorage.getItem("restaurantUrlId"),"/tickets/add")})),r.a.createElement(V.b,{path:"/tickets/confirmation",exact:!0},u&&r.a.createElement(Te,null),!u&&r.a.createElement(V.a,{to:"/restaurant/".concat(localStorage.getItem("restaurantUrlId"),"/tickets/add")})),r.a.createElement(V.b,{path:"/tickets/cancellation",exact:!0},!u&&r.a.createElement(ke,null),""===u&&r.a.createElement(V.a,{to:"/restaurant/".concat(localStorage.getItem("restaurantUrlId"),"/tickets/add")})),r.a.createElement(V.b,{path:"/tickets/:id/customer-cancellation",exact:!0},r.a.createElement(Ke,null)),r.a.createElement(V.b,{path:"*"},r.a.createElement(G,null),r.a.createElement(We,null),r.a.createElement(me,null))))});tt.propTypes={isRestaurantLogged:q.a.bool.isRequired,checkLoggedRestaurant:q.a.func.isRequired,checkingLoggedRestaurant:q.a.bool.isRequired,restaurantId:q.a.number,fetchRestaurantData:q.a.func.isRequired};var at=tt,nt=Object(l.b)((function(e){return{isRestaurantLogged:e.user.isLogged,checkingLoggedRestaurant:e.user.checking,restaurantId:e.user.restaurantId,isTemporarySubscribedTicket:e.tickets.isTemporarySubscribedTicket,checkingTemporarySubscribedTicket:e.tickets.checkingTemporarySubscribedTicket,isTicketValidate:e.tickets.isTicketValidate}}),(function(e){return{checkLoggedRestaurant:function(){e({type:"CHECK_LOGGED_RESTAURANT"})},fetchRestaurantData:function(){var t;e({type:"FETCH_RESTAURANT_DATA",restaurantId:t})},fetchTicketsData:function(){e({type:"FETCH_TICKETS_DATA"})}}}))(at),rt=r.a.createElement(l.a,{store:L},r.a.createElement(c.ParallaxProvider,null,r.a.createElement(i.a,null,r.a.createElement(nt,null)))),st=document.getElementById("root");Object(s.render)(rt,st)},13:function(e,t,a){},15:function(e,t,a){},44:function(e,t,a){},52:function(e,t,a){a(53),e.exports=a(129)},53:function(e,t,a){},98:function(e,t,a){}},[[52,1,2]]]);